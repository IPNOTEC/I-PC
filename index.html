<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IPNOTEC.VIP | Virtual PC</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;500;700&display=swap');

        :root {
            --violet: #9B00FF;
            --indigo: #0060B8;
            --blue: #00A8E8;
            --green: #39D353;
            --yellow: #FFD600;
            --orange: #FF6900;
            --red: #FF2828;
            --white: #FFFFFF;
            --nardo: #9B9B9B;
            --dark-bg: #080808;
            --pc-bezel: #0c0c0c;
            --grid-col: rgba(255,105,0,0.06);
            --neon: #00f3ff;
            --ac: #FF6900;
            --ac-rgb: 255,105,0;
        }

        * { margin:0; padding:0; box-sizing:border-box; }

        ::-webkit-scrollbar { width:3px; height:3px; }
        ::-webkit-scrollbar-track { background:rgba(0,0,0,0.2); }
        ::-webkit-scrollbar-thumb { background:var(--ac); border-radius:2px; }

        body {
            font-family:'Rajdhani',sans-serif;
            background:var(--dark-bg);
            color:#fff;
            height:100vh;
            overflow:hidden;
            display:flex;
            justify-content:center;
            align-items:center;
        }

        /* ── WALLPAPER ── */
        .wallpaper {
            position:relative;
            width:100%; height:100vh;
            background:radial-gradient(ellipse at 50% 40%, rgba(30,12,0,0.95) 0%, rgba(0,0,0,1) 70%);
            overflow:hidden;
            display:flex;
            justify-content:center;
            align-items:center;
        }
        .cyber-grid {
            position:absolute; inset:0;
            background-image:linear-gradient(var(--grid-col) 1px,transparent 1px),
                             linear-gradient(90deg, var(--grid-col) 1px,transparent 1px);
            background-size:48px 48px;
        }
        .glow-line {
            position:absolute; height:1px;
            background:linear-gradient(90deg,transparent,rgba(255,105,0,0.4),transparent);
            animation:scan 12s infinite linear;
            z-index:1;
            opacity:0.5;
        }
        @keyframes scan { 0%{top:0%;opacity:0} 40%{opacity:.6} 100%{top:100%;opacity:0} }
        .particles { position:absolute; inset:0; pointer-events:none; }
        .particle {
            position:absolute;
            background:rgba(255,105,0,0.3);
            border-radius:50%;
            animation:pfloat 18s infinite linear;
        }
        @keyframes pfloat {
            0%{transform:translateY(100vh) scale(.4);opacity:0}
            50%{opacity:.5}
            100%{transform:translateY(-100vh) scale(1.1);opacity:0}
        }

        /* ── VIRTUAL PC ── */
        .virtual-pc {
            width:96%; max-width:1440px;
            height:91vh;
            background:var(--pc-bezel);
            border-radius:10px;
            border:1.5px solid var(--ac);
            box-shadow:0 0 50px rgba(var(--ac-rgb),.12),0 0 1px rgba(var(--ac-rgb),.5);
            position:relative;
            overflow:hidden;
            transition:border-color .3s,box-shadow .3s;
        }
        .pc-screen {
            width:calc(100% - 24px);
            height:calc(100% - 48px);
            margin:12px auto 6px;
            background:#000;
            border:1px solid rgba(255,105,0,.12);
            border-radius:4px;
            position:relative;
            overflow:hidden;
        }
        .pc-content {
            width:100%; height:100%;
            background:radial-gradient(ellipse at 50% 30%,rgba(22,9,0,.92) 0%,rgba(0,0,0,.97) 70%);
        }
        .pc-footer {
            width:100%; height:30px;
            padding:0 16px;
            display:flex;
            justify-content:space-between;
            align-items:center;
        }
        .pc-branding {
            font-family:'Orbitron',sans-serif;
            font-size:.58rem; letter-spacing:2px;
            color:var(--ac); opacity:.7;
        }
        .pc-model {
            font-family:'Orbitron',sans-serif;
            font-size:.55rem; color:rgba(255,255,255,.3);
        }
        .pc-power {
            width:20px; height:20px;
            border-radius:50%;
            background:#1a1a1a;
            border:1.5px solid #2a2a2a;
            display:flex; justify-content:center; align-items:center;
            color:#333; cursor:pointer;
            transition:all .3s;
        }
        .pc-power:hover,.pc-power.on { color:var(--green); box-shadow:0 0 8px rgba(57,211,83,.4); border-color:var(--green); }
        .pc-power i { font-size:.6rem; }

        /* ── HOME SCREEN ── */
        .main-content {
            position:absolute; inset:0;
            display:flex; flex-direction:column;
            justify-content:space-between; align-items:center;
            padding:3vh 4vw 52px;
            z-index:2;
        }
        .logo-section { text-align:center; }
        .logo-section h1 {
            font-family:'Orbitron',sans-serif;
            font-size:clamp(2rem,5vw,4.2rem);
            font-weight:900; letter-spacing:10px;
            color:var(--ac);
            text-shadow:0 0 30px rgba(var(--ac-rgb),.4);
            animation:pulse 4s infinite alternate;
            margin-bottom:.3rem;
        }
        @keyframes pulse {
            0%{text-shadow:0 0 25px rgba(var(--ac-rgb),.3)}
            100%{text-shadow:0 0 55px rgba(var(--ac-rgb),.7),0 0 100px rgba(var(--ac-rgb),.2)}
        }
        .tagline {
            font-family:'Orbitron',sans-serif;
            font-size:clamp(.6rem,1.2vw,.85rem);
            color:rgba(255,255,255,.45); letter-spacing:5px; margin-bottom:.3rem;
        }
        .price-tag {
            font-family:'Orbitron',sans-serif;
            font-size:clamp(.55rem,.9vw,.75rem);
            color:var(--ac); letter-spacing:2px; margin-bottom:1.5rem; opacity:.85;
        }
        .app-launcher { display:flex; flex-wrap:wrap; justify-content:center; gap:8px; }
        .launch-btn {
            background:transparent;
            border:1px solid rgba(255,105,0,.4);
            color:rgba(255,255,255,.75);
            padding:.55rem 1.4rem;
            font-family:'Orbitron',sans-serif;
            font-size:.6rem; letter-spacing:2px;
            cursor:pointer; border-radius:2px;
            transition:all .25s; position:relative; overflow:hidden;
        }
        .launch-btn:hover {
            border-color:var(--ac); color:var(--ac);
            background:rgba(255,105,0,.07);
            box-shadow:0 0 12px rgba(255,105,0,.15);
        }
        .launch-btn::before {
            content:''; position:absolute;
            top:0; left:-100%; width:100%; height:100%;
            background:linear-gradient(90deg,transparent,rgba(255,105,0,.15),transparent);
            transition:.4s;
        }
        .launch-btn:hover::before { left:100%; }

        /* ── TERMINAL ── */
        .terminal-window {
            width:82%; max-width:680px;
            height:30vh;
            background:rgba(4,4,4,.95);
            border:1px solid rgba(255,105,0,.18);
            border-radius:6px;
            overflow:hidden;
        }
        .terminal-header {
            background:rgba(255,105,0,.04);
            padding:.35rem .8rem;
            border-bottom:1px solid rgba(255,105,0,.1);
            display:flex; align-items:center;
        }
        .t-btns { display:flex; gap:.35rem; }
        .t-btn { width:9px; height:9px; border-radius:50%; }
        .btn-red{background:#FF5F56} .btn-yellow{background:#FFBD2E} .btn-green{background:#27C93F}
        .t-title {
            flex:1; text-align:center;
            font-family:'Orbitron',sans-serif;
            font-size:.6rem; letter-spacing:2px;
            color:var(--ac); opacity:.7;
        }
        .terminal-body {
            padding:.9rem; height:calc(100% - 30px);
            overflow-y:auto;
            font-family:'Courier New',monospace;
            font-size:.78rem; line-height:1.55;
        }
        .t-cmd { color:var(--ac); margin-bottom:.25rem; }
        .t-resp { margin-bottom:.9rem; white-space:pre-wrap; color:rgba(255,255,255,.75); }
        .c-violet{color:var(--violet)} .c-indigo{color:var(--indigo)}
        .c-blue{color:var(--blue)} .c-green{color:var(--green)}
        .c-yellow{color:var(--yellow)} .c-orange{color:var(--orange)}
        .c-red{color:var(--red)} .c-grey{color:var(--nardo)}
        .cursor {
            display:inline-block; width:6px; height:12px;
            background:var(--ac); animation:blink 1s infinite;
            vertical-align:middle; margin-left:2px;
        }
        @keyframes blink{0%,100%{opacity:1}50%{opacity:0}}

        .footer {
            width:100%; display:flex;
            justify-content:space-between; align-items:center;
        }
        .url,.signature {
            font-family:'Orbitron',sans-serif;
            font-size:clamp(.55rem,1vw,.75rem);
            letter-spacing:3px;
        }
        .url { color:rgba(255,255,255,.25); }
        .signature { color:var(--ac); opacity:.6; }

        /* ── BOOT ── */
        .boot-screen {
            position:absolute; inset:0;
            background:#000;
            display:flex; flex-direction:column;
            justify-content:center; align-items:center;
            z-index:10; transition:opacity .5s;
        }
        .boot-logo {
            font-family:'Orbitron',sans-serif;
            font-size:2.4rem; color:var(--ac);
            text-align:center; margin-bottom:1.5rem;
            text-shadow:0 0 20px rgba(255,105,0,.5);
        }
        .boot-bar {
            width:45%; height:2px;
            background:rgba(255,255,255,.06);
            border-radius:1px; overflow:hidden;
        }
        .boot-bar-fill {
            height:100%; width:0;
            background:var(--ac);
            box-shadow:0 0 6px var(--ac);
            transition:width .3s ease;
        }
        .boot-status {
            margin-top:.7rem;
            font-family:'Courier New',monospace;
            font-size:.75rem; color:rgba(255,255,255,.4);
        }

        /* ── APP WINDOWS ── */
        .app-window {
            position:absolute; top:50%; left:50%;
            transform:translate(-50%,-50%);
            width:92%; height:90%;
            background:rgba(7,7,7,.98);
            border:1px solid var(--ac);
            border-radius:6px;
            box-shadow:0 0 35px rgba(var(--ac-rgb),.1);
            overflow:hidden;
            display:none; z-index:20;
        }
        .app-header {
            background:rgba(0,0,0,.8);
            padding:.55rem .9rem;
            border-bottom:1px solid rgba(255,105,0,.12);
            display:flex; align-items:center;
            height:38px; flex-shrink:0;
        }
        .app-btns { display:flex; gap:.35rem; }
        .app-btn {
            width:11px; height:11px;
            border-radius:50%; cursor:pointer;
            transition:opacity .2s;
        }
        .app-btn:hover { opacity:.7; }
        .app-title {
            flex:1; text-align:center;
            font-family:'Orbitron',sans-serif;
            font-size:.65rem; letter-spacing:2px;
            color:var(--ac);
        }
        .app-body {
            padding:1.1rem 1.4rem;
            height:calc(100% - 38px);
            overflow-y:auto;
        }

        /* ── FORMS ── */
        .sec-title {
            font-family:'Orbitron',sans-serif;
            font-size:.7rem; letter-spacing:2px;
            color:var(--ac); text-transform:uppercase;
            margin-bottom:.3rem;
        }
        .sec-sub { color:rgba(255,255,255,.4); font-size:.82rem; margin-bottom:1rem; }

        .form-row { display:flex; flex-wrap:wrap; gap:10px; align-items:flex-end; margin-bottom:1rem; }
        .fg { display:flex; flex-direction:column; flex:1; min-width:140px; }
        .fg label {
            font-family:'Orbitron',sans-serif;
            font-size:.6rem; letter-spacing:1px;
            color:var(--ac); opacity:.75;
            margin-bottom:5px;
        }
        input,select,textarea {
            padding:7px 11px;
            background:rgba(255,255,255,.03);
            border:1px solid rgba(255,105,0,.25);
            border-radius:3px; color:#fff;
            font-family:'Rajdhani',sans-serif;
            font-size:.9rem; outline:none;
            transition:border-color .2s;
            width:100%;
        }
        input:focus,select:focus { border-color:var(--ac); background:rgba(255,105,0,.04); }
        select option { background:#111; }

        .btn-p {
            padding:7px 18px;
            background:var(--ac); color:#000;
            border:none; border-radius:3px;
            font-family:'Orbitron',sans-serif;
            font-weight:700; font-size:.6rem;
            letter-spacing:1px; cursor:pointer;
            white-space:nowrap; transition:all .25s;
        }
        .btn-p:hover { background:#ff8533; transform:translateY(-1px); box-shadow:0 4px 14px rgba(255,105,0,.3); }
        .btn-p:disabled { opacity:.4; cursor:not-allowed; transform:none; box-shadow:none; }
        .btn-s {
            padding:6px 14px;
            background:transparent; color:rgba(255,255,255,.55);
            border:1px solid rgba(255,255,255,.15);
            border-radius:3px; font-family:'Rajdhani',sans-serif;
            font-size:.82rem; cursor:pointer; transition:all .2s;
        }
        .btn-s:hover { border-color:rgba(255,105,0,.4); color:var(--ac); }
        .btn-del {
            padding:3px 9px;
            background:transparent; color:rgba(255,80,80,.65);
            border:1px solid rgba(255,80,80,.2);
            border-radius:2px; font-size:.72rem;
            cursor:pointer; transition:all .2s;
        }
        .btn-del:hover { background:rgba(255,80,80,.1); }

        .divider { height:1px; background:rgba(255,105,0,.08); margin:.9rem 0; }

        /* ── TABLE ── */
        .tbl { width:100%; border-collapse:collapse; font-size:.88rem; }
        .tbl th {
            background:rgba(255,105,0,.07);
            color:var(--ac);
            font-family:'Orbitron',sans-serif;
            font-size:.58rem; letter-spacing:1px;
            padding:9px 11px; text-align:left;
            border-bottom:1px solid rgba(255,105,0,.15);
        }
        .tbl td { padding:9px 11px; border-bottom:1px solid rgba(255,255,255,.05); vertical-align:middle; }
        .tbl tr:hover td { background:rgba(255,105,0,.025); }

        /* ── ADDRESS BOOK ── */
        .ab-layout {
            display:grid;
            grid-template-columns:290px 1fr;
            gap:1.2rem;
            height:calc(100% - 58px);
        }
        .ab-form {
            background:rgba(255,105,0,.025);
            border:1px solid rgba(255,105,0,.1);
            border-radius:6px; padding:.9rem;
            overflow-y:auto; display:flex;
            flex-direction:column; gap:8px;
        }
        .ab-stats {
            display:grid; grid-template-columns:repeat(4,1fr);
            gap:8px; margin-bottom:.8rem;
        }
        .stat-b {
            text-align:center; padding:7px 4px;
            border-radius:4px;
            font-family:'Orbitron',sans-serif;
        }
        .stat-b .n { font-size:1.3rem; font-weight:700; display:block; }
        .stat-b .l { font-size:.52rem; letter-spacing:1px; opacity:.7; }
        .sb-tot { background:rgba(0,168,232,.06); border:1px solid rgba(0,168,232,.2); color:var(--blue); }
        .sb-p1  { background:rgba(255,105,0,.08); border:1px solid rgba(255,105,0,.25); color:var(--orange); }
        .sb-p2  { background:rgba(155,155,155,.07); border:1px solid rgba(155,155,155,.2); color:var(--nardo); }
        .sb-p3  { background:rgba(255,255,255,.03); border:1px solid rgba(255,255,255,.08); color:rgba(255,255,255,.5); }

        .ab-right { overflow-y:auto; }
        .filters { display:flex; flex-wrap:wrap; gap:5px; margin-bottom:.8rem; }
        .filt-btn {
            padding:3px 11px;
            background:transparent; border:1px solid rgba(255,255,255,.12);
            color:rgba(255,255,255,.4); border-radius:20px;
            font-size:.7rem; cursor:pointer; transition:all .2s;
        }
        .filt-btn.act,.filt-btn:hover { border-color:var(--ac); color:var(--ac); }

        .contacts-grid {
            display:grid;
            grid-template-columns:repeat(auto-fill,minmax(210px,1fr));
            gap:9px;
        }
        .ccard {
            border-radius:5px; padding:11px;
            position:relative; transition:transform .2s;
        }
        .ccard:hover { transform:translateY(-2px); }
        .ccard.cp1 { background:rgba(255,105,0,.07); border:1px solid rgba(255,105,0,.25); }
        .ccard.cp2 { background:rgba(155,155,155,.05); border:1px solid rgba(155,155,155,.2); }
        .ccard.cp3 { background:rgba(255,255,255,.025); border:1px solid rgba(255,255,255,.08); }
        .cc-badge {
            position:absolute; top:8px; right:8px;
            width:18px; height:18px; border-radius:50%;
            display:flex; align-items:center; justify-content:center;
            font-size:.58rem; font-weight:700;
            font-family:'Orbitron',sans-serif;
        }
        .cc-badge.cp1 { background:var(--orange); color:#000; }
        .cc-badge.cp2 { background:var(--nardo); color:#000; }
        .cc-badge.cp3 { background:rgba(255,255,255,.12); color:rgba(255,255,255,.6); }
        .cc-name { font-weight:700; font-size:.93rem; margin-bottom:3px; padding-right:22px; }
        .cc-info { font-size:.76rem; color:rgba(255,255,255,.5); margin-bottom:2px; }
        .cc-tags { display:flex; gap:4px; flex-wrap:wrap; margin-top:6px; margin-bottom:5px; }
        .cc-tag { padding:2px 7px; border-radius:3px; font-size:.6rem; font-weight:600; letter-spacing:.3px; }
        .t-family     { background:rgba(255,105,0,.18); color:var(--orange); }
        .t-friends    { background:rgba(57,211,83,.12); color:var(--green); }
        .t-professional { background:rgba(0,96,184,.18); color:var(--blue); }
        .t-mentor     { background:rgba(155,0,255,.18); color:var(--violet); }
        .t-other      { background:rgba(255,255,255,.07); color:rgba(255,255,255,.45); }
        .cap-warn {
            background:rgba(255,50,50,.08); border:1px solid rgba(255,50,50,.25);
            border-radius:3px; padding:7px 10px;
            font-size:.75rem; color:#ff7070;
            display:none; margin-bottom:8px;
        }

        /* ── EXPENSE ── */
        /* ── FRESH-BOOK BIRTHDAY FEATURE ── */
        .birthday-bar {
            background:linear-gradient(90deg,rgba(255,105,0,.08),rgba(255,105,0,.04));
            border:1px solid rgba(255,105,0,.2);
            border-radius:4px; padding:12px;
            margin-bottom:12px;
            text-align:center;
            font-family:'Orbitron',sans-serif;
            font-size:.75rem;
            letter-spacing:1px;
        }
        .birthday-bar.active { background:linear-gradient(90deg,rgba(255,105,0,.15),rgba(255,105,0,.08)); border-color:rgba(255,105,0,.4); color:var(--orange); }
        .birthday-bar.ready { background:linear-gradient(90deg,rgba(57,211,83,.12),rgba(57,211,83,.06)); border-color:rgba(57,211,83,.3); color:var(--green); }
        
        .freshbook-btn {
            background:rgba(255,105,0,.08);
            border:1.5px solid rgba(255,105,0,.3);
            color:var(--ac);
            padding:10px 14px;
            font-family:'Orbitron',sans-serif;
            font-size:.7rem;
            border-radius:4px;
            cursor:pointer;
            transition:all .3s;
            width:100%;
            margin:6px 0;
            font-weight:600;
            letter-spacing:1px;
        }
        .freshbook-btn:hover { background:rgba(255,105,0,.15); border-color:var(--ac); box-shadow:0 0 15px rgba(255,105,0,.2); }
        .freshbook-btn:disabled { opacity:.4; cursor:not-allowed; }

        .freshbook-modal {
            position:fixed;
            top:0; left:0; width:100%; height:100%;
            background:rgba(0,0,0,.85);
            display:none;
            align-items:center;
            justify-content:center;
            z-index:9999;
            backdrop-filter:blur(3px);
        }
        .freshbook-modal.show { display:flex; }
        .fb-container {
            background:#0c0c0c;
            border:2px solid var(--ac);
            border-radius:8px;
            width:90%;
            max-width:900px;
            max-height:85vh;
            overflow:hidden;
            display:flex;
            flex-direction:column;
            box-shadow:0 0 40px rgba(255,105,0,.2);
        }
        .fb-header {
            background:rgba(255,105,0,.08);
            border-bottom:1px solid rgba(255,105,0,.2);
            padding:16px 20px;
            display:flex;
            justify-content:space-between;
            align-items:center;
        }
        .fb-header h2 {
            font-family:'Orbitron',sans-serif;
            font-size:1.4rem;
            letter-spacing:2px;
            color:var(--ac);
        }
        .fb-close {
            background:none;
            border:none;
            color:rgba(255,255,255,.5);
            font-size:1.8rem;
            cursor:pointer;
            transition:color .2s;
        }
        .fb-close:hover { color:var(--ac); }

        .fb-content {
            flex:1;
            overflow-y:auto;
            padding:20px;
        }
        .fb-matches {
            display:grid;
            grid-template-columns:repeat(auto-fill,minmax(280px,1fr));
            gap:12px;
            margin-bottom:16px;
        }
        .fb-match-card {
            background:rgba(255,105,0,.05);
            border:1px solid rgba(255,105,0,.15);
            border-radius:6px;
            padding:14px;
            position:relative;
            overflow:hidden;
        }
        .fb-match-card::before {
            content:'';
            position:absolute;
            top:0; left:0;
            width:100%; height:2px;
            background:var(--ac);
            opacity:.4;
        }
        .fb-contact-name {
            font-family:'Orbitron',sans-serif;
            font-size:.95rem;
            color:var(--ac);
            font-weight:600;
            margin-bottom:6px;
        }
        .fb-emotion-tag {
            display:inline-block;
            padding:4px 8px;
            background:rgba(255,105,0,.15);
            border-radius:3px;
            font-size:.7rem;
            color:rgba(255,255,255,.8);
            margin:3px 3px 3px 0;
        }
        .fb-match-badge {
            display:inline-block;
            background:rgba(57,211,83,.2);
            color:var(--green);
            padding:4px 10px;
            border-radius:3px;
            font-size:.75rem;
            font-weight:700;
            margin-top:8px;
            border:1px solid rgba(57,211,83,.3);
        }
        .fb-footer {
            background:rgba(0,0,0,.3);
            border-top:1px solid rgba(255,105,0,.1);
            padding:16px 20px;
            display:flex;
            gap:10px;
            justify-content:flex-end;
        }
        .fb-action-btn {
            background:rgba(255,105,0,.1);
            border:1px solid rgba(255,105,0,.25);
            color:rgba(255,255,255,.8);
            padding:8px 14px;
            border-radius:4px;
            cursor:pointer;
            font-family:'Orbitron',sans-serif;
            font-size:.75rem;
            transition:all .2s;
        }
        .fb-action-btn:hover { background:rgba(255,105,0,.15); border-color:var(--ac); color:var(--ac); }
        .fb-action-btn.primary { background:rgba(255,105,0,.15); border-color:var(--ac); color:var(--ac); }
        .fb-action-btn.primary:hover { background:rgba(255,105,0,.25); box-shadow:0 0 15px rgba(255,105,0,.15); }

        /* ── MY BIRTHDAY MEGA BUTTON ── */
        .bday-mega-btn {
            display:flex; align-items:center; justify-content:center; gap:10px;
            width:100%; padding:14px 20px; margin-bottom:6px;
            background:linear-gradient(135deg,rgba(255,105,0,.18),rgba(255,50,50,.1));
            border:2px solid var(--ac); border-radius:6px;
            color:var(--ac); font-family:'Orbitron',sans-serif;
            font-size:.72rem; letter-spacing:2px; cursor:pointer;
            position:relative; overflow:hidden;
            animation:bdayPulse 2.5s infinite alternate;
            box-shadow:0 0 20px rgba(255,105,0,.25),inset 0 0 20px rgba(255,105,0,.05);
            transition:all .3s;
        }
        @keyframes bdayPulse {
            0%  { box-shadow:0 0 12px rgba(255,105,0,.2),inset 0 0 10px rgba(255,105,0,.03); }
            100%{ box-shadow:0 0 35px rgba(255,105,0,.6),0 0 70px rgba(255,105,0,.18),inset 0 0 20px rgba(255,105,0,.08); border-color:#ff8533; }
        }
        .bday-mega-btn:hover { background:linear-gradient(135deg,rgba(255,105,0,.28),rgba(255,50,50,.18)); transform:translateY(-2px); }
        .bday-mega-btn .bd-icon { font-size:1.3rem; }
        .bday-mega-btn.sealed {
            background:rgba(155,0,255,.08); border-color:rgba(155,0,255,.5);
            color:var(--violet); animation:sealedPulse 3s infinite alternate; cursor:default;
        }
        @keyframes sealedPulse {
            0%  { box-shadow:0 0 10px rgba(155,0,255,.15); }
            100%{ box-shadow:0 0 28px rgba(155,0,255,.4),0 0 50px rgba(155,0,255,.1); }
        }
        .bday-mega-btn.ready {
            background:linear-gradient(135deg,rgba(57,211,83,.14),rgba(0,168,232,.08));
            border-color:var(--green); color:var(--green);
            animation:readyPulse 2s infinite alternate;
        }
        @keyframes readyPulse {
            0%  { box-shadow:0 0 15px rgba(57,211,83,.2); }
            100%{ box-shadow:0 0 38px rgba(57,211,83,.6),0 0 65px rgba(57,211,83,.12); }
        }
        .bday-mega-btn.locked {
            background:rgba(155,155,155,.06); border-color:rgba(155,155,155,.25);
            color:rgba(155,155,155,.6); animation:none; cursor:pointer;
            box-shadow:none;
        }
        .bday-demo-reset {
            text-align:center; font-size:.55rem; color:rgba(255,255,255,.18);
            cursor:pointer; margin-bottom:10px;
            font-family:'Orbitron',sans-serif; letter-spacing:1px;
            transition:color .2s;
        }
        .bday-demo-reset:hover { color:rgba(255,105,0,.5); }

        /* ── YEAR-LOCK MODAL ── */
        .yearlock-modal {
            position:fixed; top:0; left:0; width:100%; height:100%;
            background:rgba(0,0,0,.92); display:none;
            align-items:center; justify-content:center;
            z-index:9999; backdrop-filter:blur(7px);
        }
        .yearlock-modal.show { display:flex; }
        .yl-container {
            background:#080808; border:2px solid var(--violet);
            border-radius:10px; padding:40px;
            max-width:560px; width:90%; text-align:center;
            box-shadow:0 0 60px rgba(155,0,255,.25);
        }
        .yl-icon { font-size:3rem; margin-bottom:16px; }
        .yl-title {
            font-family:'Orbitron',sans-serif; font-size:1.2rem;
            color:var(--violet); letter-spacing:2px; margin-bottom:14px;
        }
        .yl-body {
            font-size:.88rem; color:rgba(255,255,255,.55);
            line-height:1.75; margin-bottom:20px;
        }
        .yl-countdown {
            font-family:'Orbitron',sans-serif; font-size:1.3rem;
            color:var(--orange); margin:16px 0; padding:14px;
            border:1px solid rgba(255,105,0,.2); border-radius:6px;
            background:rgba(255,105,0,.05);
        }
        .yl-btn {
            background:rgba(155,0,255,.12); border:1px solid rgba(155,0,255,.35);
            color:var(--violet); padding:10px 26px; border-radius:4px;
            font-family:'Orbitron',sans-serif; font-size:.68rem;
            cursor:pointer; transition:all .2s; margin:4px;
        }
        .yl-btn:hover { background:rgba(155,0,255,.22); }
        .yl-btn.view { background:rgba(57,211,83,.1); border-color:rgba(57,211,83,.3); color:var(--green); }
        .yl-btn.view:hover { background:rgba(57,211,83,.2); }

        /* ── SEALED COUNTDOWN MODAL ── */
        .sealed-modal {
            position:fixed; top:0; left:0; width:100%; height:100%;
            background:rgba(0,0,0,.9); display:none;
            align-items:center; justify-content:center;
            z-index:9999; backdrop-filter:blur(7px);
        }
        .sealed-modal.show { display:flex; }
        .sl-container {
            background:#080808; border:2px solid var(--violet);
            border-radius:10px; padding:40px; max-width:520px;
            width:90%; text-align:center;
            box-shadow:0 0 50px rgba(155,0,255,.2);
        }
        .sl-title {
            font-family:'Orbitron',sans-serif; font-size:1.1rem;
            color:var(--violet); letter-spacing:2px; margin:16px 0 10px;
        }
        .sl-timer {
            font-family:'Orbitron',sans-serif; font-size:2.2rem;
            color:var(--ac); margin:20px 0; letter-spacing:4px;
        }
        .sl-sub { font-size:.8rem; color:rgba(255,255,255,.4); line-height:1.7; }

        /* ── BIRTHDAY SETUP MODAL ── */
        .bday-setup-modal {
            position:fixed; top:0; left:0; width:100%; height:100%;
            background:rgba(0,0,0,.88); display:none;
            align-items:center; justify-content:center;
            z-index:9995; backdrop-filter:blur(5px);
        }
        .bday-setup-modal.show { display:flex; }
        .bs-container {
            background:#0a0a0a; border:2px solid var(--ac);
            border-radius:8px; padding:32px; max-width:480px;
            width:90%; text-align:center;
            box-shadow:0 0 40px rgba(255,105,0,.15);
        }
        .bs-title {
            font-family:'Orbitron',sans-serif; font-size:1.1rem;
            color:var(--ac); letter-spacing:2px; margin-bottom:8px;
        }
        .bs-sub { font-size:.82rem; color:rgba(255,255,255,.45); margin-bottom:22px; line-height:1.6; }

        /* ── FRESH-BOOK BLUR ── */
        .fb-name-blur {
            filter:blur(7px); transition:filter .35s;
            cursor:pointer; user-select:none;
            display:inline-block;
        }
        .fb-name-blur:hover,.fb-name-blur.revealed { filter:blur(0); }
        .fb-blur-hint {
            font-size:.65rem; color:rgba(255,255,255,.3);
            margin-top:6px; letter-spacing:1px;
        }
        .fb-priority-badge {
            display:inline-block; padding:3px 10px;
            border-radius:3px; font-size:.7rem; font-weight:700;
            margin:4px 4px 4px 0;
        }
        .fb-p1 { background:rgba(255,105,0,.2); color:var(--orange); border:1px solid rgba(255,105,0,.3); }
        .fb-p2 { background:rgba(155,155,155,.15); color:var(--nardo); border:1px solid rgba(155,155,155,.25); }
        .fb-p3 { background:rgba(0,168,232,.1); color:var(--blue); border:1px solid rgba(0,168,232,.2); }
        .fb-match-source {
            font-size:.65rem; color:rgba(255,255,255,.3);
            margin-top:4px; font-style:italic;
        }

        .fb-stats {
            background:rgba(255,105,0,.04);
            border:1px solid rgba(255,105,0,.1);
            border-radius:6px;
            padding:14px;
            margin-bottom:16px;
            display:grid;
            grid-template-columns:repeat(3,1fr);
            gap:12px;
        }
        .fb-stat-item {
            text-align:center;
        }
        .fb-stat-num {
            font-family:'Orbitron',sans-serif;
            font-size:1.8rem;
            color:var(--ac);
            font-weight:700;
            display:block;
        }
        .fb-stat-label {
            font-size:.7rem;
            color:rgba(255,255,255,.5);
            margin-top:4px;
            letter-spacing:1px;
        }

        .birthday-choice-modal {
            position:fixed;
            top:0; left:0; width:100%; height:100%;
            background:rgba(0,0,0,.85);
            display:none;
            align-items:center;
            justify-content:center;
            z-index:9998;
            backdrop-filter:blur(3px);
        }
        .birthday-choice-modal.show { display:flex; }
        .bc-container {
            background:#0c0c0c;
            border:2px solid var(--ac);
            border-radius:8px;
            width:90%;
            max-width:700px;
            padding:30px;
            text-align:center;
        }
        .bc-title {
            font-family:'Orbitron',sans-serif;
            font-size:1.6rem;
            letter-spacing:2px;
            color:var(--ac);
            margin-bottom:16px;
        }
        .bc-subtitle {
            font-size:.95rem;
            color:rgba(255,255,255,.7);
            margin-bottom:24px;
            line-height:1.6;
        }
        .bc-options {
            display:flex;
            flex-direction:column;
            gap:12px;
        }
        .bc-option-btn {
            background:rgba(255,105,0,.08);
            border:2px solid rgba(255,105,0,.2);
            color:rgba(255,255,255,.8);
            padding:16px;
            border-radius:6px;
            cursor:pointer;
            font-family:'Orbitron',sans-serif;
            font-size:.85rem;
            transition:all .3s;
            text-align:left;
        }
        .bc-option-btn:hover {
            background:rgba(255,105,0,.15);
            border-color:var(--ac);
            color:var(--ac);
            transform:translateX(5px);
        }
        .bc-option-title { font-weight:700; display:block; margin-bottom:4px; }
        .bc-option-desc { font-size:.75rem; opacity:.7; }

        .contact-assign-modal {
            position:fixed;
            top:0; left:0; width:100%; height:100%;
            background:rgba(0,0,0,.85);
            display:none;
            z-index:9997;
            overflow:auto;
        }
        .contact-assign-modal.show { display:block; }
        
        .matching-process-modal {
            position:fixed;
            top:0; left:0; width:100%; height:100%;
            background:rgba(0,0,0,.85);
            display:none;
            z-index:9996;
            overflow:auto;
            backdrop-filter:blur(3px);
        }
        .matching-process-modal.show { display:block; }
        .mp-container {
            background:#0c0c0c;
            border:2px solid var(--ac);
            border-radius:8px;
            width:90%;
            max-width:800px;
            margin:40px auto;
            padding:20px;
        }
        .mp-header {
            border-bottom:1px solid rgba(255,105,0,.2);
            padding-bottom:15px;
            margin-bottom:20px;
        }
        .mp-header h2 {
            font-family:'Orbitron',sans-serif;
            font-size:1.3rem;
            color:var(--ac);
            margin-bottom:8px;
        }
        .mp-counter {
            text-align:center;
            padding:20px;
            background:rgba(255,105,0,.06);
            border:1px solid rgba(255,105,0,.15);
            border-radius:6px;
            margin-bottom:20px;
            min-height:80px;
            display:flex;
            align-items:center;
            justify-content:center;
        }
        .mp-grid {
            background:rgba(255,105,0,.02);
            border:1px solid rgba(255,105,0,.1);
            border-radius:6px;
            padding:15px;
            max-height:400px;
            overflow-y:auto;
            margin-bottom:20px;
        }
        .mp-actions {
            display:flex;
            gap:10px;
            justify-content:flex-end;
        }
        .mp-btn {
            background:rgba(255,105,0,.1);
            border:1px solid rgba(255,105,0,.25);
            color:rgba(255,255,255,.8);
            padding:10px 16px;
            border-radius:4px;
            cursor:pointer;
            font-family:'Orbitron',sans-serif;
            font-size:.8rem;
            transition:all .2s;
        }
        .mp-btn:hover { background:rgba(255,105,0,.15); border-color:var(--ac); color:var(--ac); }
        .mp-btn.primary { background:rgba(255,105,0,.15); border-color:var(--ac); color:var(--ac); font-weight:600; }
        
        @keyframes slideIn {
            from { 
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        .ca-container {
            background:#0c0c0c;
            border:2px solid var(--ac);
            border-radius:8px;
            width:90%;
            max-width:800px;
            margin:40px auto;
            padding:20px;
        }
        .ca-header {
            border-bottom:1px solid rgba(255,105,0,.2);
            padding-bottom:12px;
            margin-bottom:20px;
        }
        .ca-header h2 {
            font-family:'Orbitron',sans-serif;
            font-size:1.3rem;
            color:var(--ac);
            margin-bottom:6px;
        }
        .ca-progress {
            width:100%;
            height:6px;
            background:rgba(255,105,0,.1);
            border-radius:3px;
            overflow:hidden;
            margin-top:12px;
        }
        .ca-progress-bar {
            height:100%;
            background:var(--ac);
            width:0%;
            transition:width .3s;
        }
        .contact-assign-form {
            background:rgba(255,105,0,.04);
            border:1px solid rgba(255,105,0,.1);
            border-radius:6px;
            padding:20px;
            margin-bottom:20px;
        }
        .ca-name {
            font-family:'Orbitron',sans-serif;
            font-size:1.1rem;
            color:var(--ac);
            margin-bottom:16px;
        }
        .ca-label {
            font-size:.8rem;
            color:rgba(255,255,255,.6);
            margin:12px 0 6px;
            letter-spacing:1px;
            text-transform:uppercase;
            font-weight:600;
        }
        .ca-grid {
            display:grid;
            grid-template-columns:repeat(3,1fr);
            gap:6px;
            margin-bottom:12px;
        }
        .ca-option {
            background:rgba(255,255,255,.03);
            border:1px solid rgba(255,255,255,.08);
            color:rgba(255,255,255,.6);
            padding:10px;
            border-radius:4px;
            cursor:pointer;
            font-size:.8rem;
            text-align:center;
            transition:all .2s;
        }
        .ca-option:hover { border-color:rgba(255,105,0,.3); }
        .ca-option.sel { background:rgba(255,105,0,.15); border-color:var(--ac); color:var(--ac); font-weight:700; }

        .ca-actions {
            display:flex;
            gap:10px;
            justify-content:flex-end;
        }
        .ca-btn {
            background:rgba(255,105,0,.1);
            border:1px solid rgba(255,105,0,.25);
            color:rgba(255,255,255,.8);
            padding:10px 16px;
            border-radius:4px;
            cursor:pointer;
            font-family:'Orbitron',sans-serif;
            font-size:.8rem;
            transition:all .2s;
        }
        .ca-btn:hover { background:rgba(255,105,0,.15); border-color:var(--ac); color:var(--ac); }
        .ca-btn.primary { background:rgba(255,105,0,.15); border-color:var(--ac); color:var(--ac); font-weight:600; }

        .exp-layout {
            display:grid; grid-template-columns:285px 1fr;
            gap:1.2rem; height:calc(100% - 58px);
        }
        .exp-form {
            background:rgba(255,105,0,.025);
            border:1px solid rgba(255,105,0,.1);
            border-radius:6px; padding:.9rem;
            overflow-y:auto;
        }
        .day-bar {
            text-align:center; padding:9px;
            border-radius:3px; margin-bottom:.9rem;
            font-family:'Orbitron',sans-serif;
            font-size:.6rem; letter-spacing:1px;
        }
        .db-pending { background:rgba(255,105,0,.08); border:1px solid rgba(255,105,0,.25); color:var(--orange); }
        .db-logged  { background:rgba(57,211,83,.08); border:1px solid rgba(57,211,83,.25); color:var(--green); }

        .emotion-grid { display:grid; grid-template-columns:1fr 1fr; gap:5px; margin-top:5px; }
        .emo-btn {
            padding:8px 5px;
            background:rgba(255,255,255,.03);
            border:1px solid rgba(255,255,255,.08);
            border-radius:3px; color:rgba(255,255,255,.5);
            font-size:.75rem; cursor:pointer;
            text-align:center; transition:all .2s;
        }
        .emo-btn:hover,.emo-btn.sel { border-color:var(--ac); color:var(--ac); background:rgba(255,105,0,.07); }

        .exp-right { overflow-y:auto; }
        .month-summary {
            display:grid; grid-template-columns:repeat(4,1fr);
            gap:9px; margin-bottom:1rem;
        }
        .sum-card {
            background:rgba(255,105,0,.04);
            border:1px solid rgba(255,105,0,.12);
            border-radius:4px; padding:9px;
            text-align:center;
        }
        .sum-card .amt {
            font-family:'Orbitron',sans-serif;
            font-size:1rem; color:var(--ac); display:block;
        }
        .sum-card .lbl { font-size:.58rem; color:rgba(255,255,255,.35); margin-top:2px; }
        .emo-badge { padding:3px 8px; border-radius:3px; font-size:.7rem; font-weight:600; }
        .em-needful  { background:rgba(57,211,83,.12); color:var(--green); }
        .em-grateful { background:rgba(255,105,0,.12); color:var(--orange); }
        .em-want     { background:rgba(255,214,0,.12); color:var(--yellow); }
        .em-impulse  { background:rgba(255,50,50,.12); color:#ff7070; }
        .em-stressed { background:rgba(155,0,255,.12); color:var(--violet); }
        .em-joyful   { background:rgba(0,168,232,.12); color:var(--blue); }

        /* ── ASTROLOGY ── */
        .astro-row { display:flex; gap:10px; align-items:flex-end; margin-bottom:1.2rem; }
        .astro-cards {
            display:grid; grid-template-columns:repeat(3,1fr);
            gap:12px; margin-bottom:1.2rem;
        }
        .astro-card {
            background:rgba(0,0,0,.75);
            border-left:3px solid var(--ac);
            border-radius:5px; padding:.9rem;
            box-shadow:inset 0 0 20px rgba(255,105,0,.04);
        }
        .astro-card h3 {
            font-family:'Orbitron',sans-serif;
            font-size:.75rem; letter-spacing:2px;
            color:#fff; text-align:center;
            margin-bottom:.7rem;
        }
        .astro-card .content { color:var(--orange); font-size:.8rem; line-height:1.55; }
        .astro-card ul { padding-left:14px; margin-top:7px; }
        .astro-card li { margin-bottom:5px; font-size:.78rem; }
        .ipn-li { color:var(--green) !important; font-weight:600; }
        .pct { font-weight:700; color:var(--orange); font-size:.9rem; }
        .imp-dates {
            background:rgba(255,105,0,.03);
            border:1px solid rgba(255,105,0,.12);
            border-radius:5px; padding:.9rem;
        }
        .imp-dates h3 {
            font-family:'Orbitron',sans-serif;
            font-size:.72rem; letter-spacing:2px;
            color:var(--ac); margin-bottom:.8rem;
        }
        .date-grid {
            display:grid;
            grid-template-columns:repeat(auto-fill,minmax(210px,1fr));
            gap:7px;
        }
        .date-item {
            background:rgba(0,0,0,.35);
            border-radius:3px; padding:7px 10px;
            display:flex; gap:9px; align-items:flex-start;
        }
        .d-dot {
            width:7px; height:7px; border-radius:50%;
            flex-shrink:0; margin-top:4px;
        }
        .d-high { background:var(--orange); box-shadow:0 0 5px var(--orange); }
        .d-med  { background:var(--yellow); }
        .d-low  { background:var(--nardo); }
        .d-date {
            font-family:'Orbitron',sans-serif;
            font-size:.62rem; color:var(--ac);
        }
        .d-desc { font-size:.72rem; color:rgba(255,255,255,.45); margin-top:2px; }
        .astro-placeholder {
            text-align:center; padding:4rem;
            color:rgba(255,255,255,.15);
        }

        /* ── EVENTS ── */
        .esec-title {
            font-family:'Orbitron',sans-serif;
            font-size:.6rem; letter-spacing:3px;
            color:rgba(255,255,255,.3); text-transform:uppercase;
            margin:1.1rem 0 .7rem;
            padding-bottom:5px;
            border-bottom:1px solid rgba(255,255,255,.05);
        }
        .your-event {
            background:linear-gradient(135deg,rgba(255,105,0,.1),rgba(255,105,0,.04));
            border:1.5px solid var(--orange);
            border-radius:7px; padding:1.1rem;
            display:flex; gap:1.3rem; align-items:center;
            box-shadow:0 0 22px rgba(255,105,0,.08);
        }
        .ye-badge {
            background:var(--orange); color:#000;
            font-family:'Orbitron',sans-serif;
            font-size:.55rem; letter-spacing:1px;
            padding:4px 8px; border-radius:2px;
            white-space:nowrap; flex-shrink:0;
        }
        .ye-content { flex:1; }
        .ye-content h3 {
            font-family:'Orbitron',sans-serif;
            font-size:.9rem; color:var(--orange);
            margin-bottom:4px;
        }
        .ye-content p { font-size:.82rem; color:rgba(255,255,255,.6); }
        .ye-meta {
            display:flex; flex-wrap:wrap; gap:12px;
            margin-top:7px; font-size:.75rem;
            color:rgba(255,105,0,.75);
        }
        .ye-meta span { display:flex; align-items:center; gap:4px; }

        .ecard-grid {
            display:grid;
            grid-template-columns:repeat(auto-fill,minmax(240px,1fr));
            gap:10px; margin-bottom:1rem;
        }
        .ecard {
            border-radius:5px; padding:13px;
            border-top:2.5px solid;
            transition:transform .2s;
        }
        .ecard:hover { transform:translateY(-2px); box-shadow:0 6px 18px rgba(0,0,0,.3); }
        .ecard.ec-violet   { border-color:var(--violet);   background:rgba(155,0,255,.05); }
        .ecard.ec-indigo   { border-color:var(--indigo);   background:rgba(0,96,184,.05); }
        .ecard.ec-blue     { border-color:var(--blue);     background:rgba(0,168,232,.05); }
        .ecard.ec-green    { border-color:var(--green);    background:rgba(57,211,83,.05); }
        .ecard.ec-yellow   { border-color:var(--yellow);   background:rgba(255,214,0,.05); }
        .ecard.ec-orange   { border-color:var(--orange);   background:rgba(255,105,0,.05); }
        .ecard.ec-red      { border-color:var(--red);      background:rgba(255,50,50,.05); }
        .ecard.ec-grey     { border-color:#555;            background:rgba(155,155,155,.04); }
        .ecard.ec-white    { border-color:rgba(255,255,255,.25); background:rgba(255,255,255,.025); }
        .et { font-weight:700; font-size:.9rem; margin-bottom:5px; }
        .ed { font-size:.78rem; color:rgba(255,255,255,.55); margin-bottom:9px; }
        .em { display:flex; justify-content:space-between; align-items:center; }
        .edate { font-size:.68rem; color:rgba(255,255,255,.35); }
        .etier {
            font-size:.58rem;
            font-family:'Orbitron',sans-serif;
            padding:2px 7px; border-radius:2px;
        }
        .t-open    { background:rgba(155,155,155,.12); color:var(--nardo); }
        .t-member  { background:rgba(255,105,0,.12);   color:var(--orange); }
        .t-premium { background:rgba(255,255,255,.08); color:rgba(255,255,255,.65); }

        /* ── COLOR PICKER ── */
        .color-picker {
            position:fixed; bottom:46px; right:14px;
            display:flex; flex-direction:column; gap:5px;
            z-index:100;
        }
        .co {
            width:20px; height:20px;
            border-radius:3px; cursor:pointer;
            border:1.5px solid transparent;
            transition:all .2s;
        }
        .co:hover { transform:scale(1.2); box-shadow:0 0 6px rgba(255,255,255,.3); }
        .co.act   { border-color:#fff; box-shadow:0 0 8px rgba(255,255,255,.6); }

        /* ── TABS ── */
        .tabs {
            position:fixed; bottom:0; left:0;
            width:100%; display:flex;
            justify-content:center; gap:4px;
            background:rgba(0,0,0,.92);
            border-top:1px solid rgba(255,105,0,.08);
            padding:5px 0; z-index:50;
        }
        .tab {
            padding:5px 16px;
            background:rgba(255,255,255,.03);
            color:rgba(255,255,255,.4);
            border-radius:2px; cursor:pointer;
            font-family:'Orbitron',sans-serif;
            font-size:.58rem; letter-spacing:1px;
            transition:all .2s;
            border:1px solid transparent;
        }
        .tab:hover { color:rgba(255,255,255,.7); border-color:rgba(255,105,0,.15); }
        .tab.act { background:rgba(255,105,0,.1); color:var(--ac); border-color:rgba(255,105,0,.3); }

        .empty-state {
            text-align:center; padding:2.5rem;
            color:rgba(255,255,255,.25); grid-column:1/-1;
        }
        .empty-state i { font-size:1.8rem; margin-bottom:.6rem; display:block; }

        /* ── RESPONSIVE ── */
        @media(max-width:900px) {
            .ab-layout,.exp-layout { grid-template-columns:1fr; }
            .astro-cards { grid-template-columns:1fr; }
            .month-summary { grid-template-columns:repeat(2,1fr); }
            .ab-stats { grid-template-columns:repeat(2,1fr); }
            .your-event { flex-direction:column; gap:.8rem; }
        }
        @media(max-width:700px) {
            .virtual-pc { height:95vh; width:99%; }
            .tab { padding:4px 10px; font-size:.52rem; }
            .contacts-grid { grid-template-columns:1fr; }
        }
    </style>
</head>
<body>
<div class="wallpaper">
    <div class="cyber-grid"></div>
    <div class="particles" id="particles"></div>
    <div class="glow-line" style="width:75%;left:12.5%"></div>
    <div class="glow-line" style="width:55%;left:22.5%;animation-delay:-4s"></div>

    <div class="virtual-pc" id="virtualPc">
        <div class="pc-screen">
            <div class="pc-content">

                <!-- BOOT -->
                <div class="boot-screen" id="bootScreen">
                    <div class="boot-logo">
                        IPNOTEC<br>
                        <span style="font-size:.85rem;opacity:.6;letter-spacing:4px;">VIRTUAL PC SYSTEM</span>
                    </div>
                    <div class="boot-bar"><div class="boot-bar-fill" id="bootFill"></div></div>
                    <div class="boot-status" id="bootStatus">Initializing hardware...</div>
                </div>

                <!-- HOME -->
                <div class="main-content" id="mainContent" style="display:none">
                    <div class="logo-section">
                        <h1>IPNOTEC</h1>
                        <div class="tagline">STEP INTO THE FUTURE</div>
                        <div class="price-tag">₹ 1,001 / MONTH &nbsp;·&nbsp; VIP MEMBERSHIP</div>
                        <div class="app-launcher">
                            <button class="launch-btn" onclick="openApp('addressBook')">&#9780; ADDRESS BOOK</button>
                            <button class="launch-btn" onclick="openApp('expenseEvaluator')">&#9654; EXPENSE LOG</button>
                            <button class="launch-btn" onclick="openApp('namelessAstrology')">&#9733; NAMELESS ASTROLOGY</button>
                            <button class="launch-btn" onclick="openApp('ipnotecEvents')">&#9670; IPNOTEC EVENTS</button>
                        </div>
                    </div>

                    <div class="terminal-window">
                        <div class="terminal-header">
                            <div class="t-btns">
                                <div class="t-btn btn-red"></div>
                                <div class="t-btn btn-yellow"></div>
                                <div class="t-btn btn-green"></div>
                            </div>
                            <div class="t-title">IPNOTEC TERMINAL v3.0</div>
                            <div style="width:44px"></div>
                        </div>
                        <div class="terminal-body" id="termBody">
                            <div class="t-cmd">> INITIALIZING SYSTEM...</div>
                            <div class="t-resp">IPNOTEC VIP PORTAL v3.0
—————————————————————————
LOADING FUTURE ECOSYSTEM...
<span class="c-green">SYSTEM READY</span></div>
                            <div class="t-cmd">> DISPLAY WELCOME MESSAGE</div>
                            <div class="t-resp">WELCOME TO IPNOTEC.VIP
—————————————————————————
AN ENTREPRENEURIAL MULTIVERSE WHERE VISIONARIES CONVERGE

VIBGYOR PROFILES:
<span class="c-violet">VIOLET</span> — Wealth &amp; Investment
<span class="c-indigo">INDIGO</span> — Innovation &amp; Technology
<span class="c-blue">BLUE  </span> — Branding &amp; Trust
<span class="c-green">GREEN </span> — Revolution
<span class="c-yellow">YELLOW</span> — Young Revolution (18–23)
<span class="c-orange">ORANGE</span> — Wisdom &amp; Culture
<span class="c-red">RED   </span> — Real Estate &amp; Power
<span class="c-grey">NOMAD </span> — Just Curious</div>
                            <div class="t-cmd">> CONNECT USER<span class="cursor"></span></div>
                        </div>
                    </div>

                    <div class="footer">
                        <div class="url">WWW.IPNOTEC.VIP</div>
                        <div class="signature">IPV.BLR.BYB.001</div>
                    </div>
                </div>

                <!-- ════════ ADDRESS BOOK ════════ -->
                <div class="app-window" id="addressBook">
                    <div class="app-header">
                        <div class="app-btns">
                            <div class="app-btn btn-red" onclick="closeApp('addressBook')"></div>
                            <div class="app-btn btn-yellow"></div>
                            <div class="app-btn btn-green"></div>
                        </div>
                        <div class="app-title">ADDRESS BOOK — YOUR INNER CIRCLE (108 CONTACTS)</div>
                    </div>
                    <div class="app-body">
                        <div class="ab-stats" id="abStats"></div>
                        <button class="bday-mega-btn" id="bdayMegaBtn" onclick="handleBirthdayClick()">
                            <span class="bd-icon">🎂</span>
                            <span id="bdayBtnText">MY BIRTHDAY — ACTIVATE GIFT</span>
                        </button>
                        <div class="bday-demo-reset" onclick="resetBirthdayDemo()" title="Clear demo state">⟳ DEMO RESET</div>
                        <div class="ab-layout">
                            <div class="ab-form">
                                <div class="sec-title">ADD CONTACT</div>
                                <div class="cap-warn" id="capWarn">108 CONTACT LIMIT REACHED</div>
                                <div class="fg">
                                    <label>FULL NAME *</label>
                                    <input type="text" id="ab-name" placeholder="Contact name" />
                                </div>
                                <div class="fg">
                                    <label>PHONE *</label>
                                    <input type="tel" id="ab-phone" placeholder="+91 XXXXX XXXXX" />
                                </div>
                                <div class="fg">
                                    <label>EMAIL</label>
                                    <input type="email" id="ab-email" placeholder="email@domain.com" />
                                </div>
                                <div class="fg">
                                    <label>CATEGORY</label>
                                    <select id="ab-cat">
                                        <option value="family">Family</option>
                                        <option value="friends">Friends</option>
                                        <option value="professional">Professional</option>
                                        <option value="mentor">Mentor</option>
                                        <option value="other">Other</option>
                                    </select>
                                </div>
                                <div class="fg">
                                    <label>PRIORITY</label>
                                    <select id="ab-pri">
                                        <option value="1">Priority 1 — Inner Circle</option>
                                        <option value="2">Priority 2 — Close Circle</option>
                                        <option value="3">Priority 3 — Extended</option>
                                    </select>
                                </div>
                                <button class="btn-p" onclick="addContact()" style="width:100%;margin-top:4px;">SAVE CONTACT</button>
                                <div class="divider"></div>
                                <div style="font-size:.68rem;color:rgba(255,255,255,.3);line-height:1.7;">
                                    <strong style="color:var(--ac);">PRIORITY GUIDE</strong><br>
                                    P1 — Daily life essentials (family, closest)<br>
                                    P2 — Regular touchpoints (good friends, key partners)<br>
                                    P3 — Wider network (colleagues, extended)
                                </div>
                            </div>
                            <div class="ab-right">
                                <div class="filters" id="filtersRow">
                                    <button class="filt-btn act" onclick="filterContacts('all',this)">ALL</button>
                                    <button class="filt-btn" onclick="filterContacts('1',this)">PRIORITY 1</button>
                                    <button class="filt-btn" onclick="filterContacts('2',this)">PRIORITY 2</button>
                                    <button class="filt-btn" onclick="filterContacts('3',this)">PRIORITY 3</button>
                                    <button class="filt-btn" onclick="filterContacts('family',this)">FAMILY</button>
                                    <button class="filt-btn" onclick="filterContacts('friends',this)">FRIENDS</button>
                                    <button class="filt-btn" onclick="filterContacts('professional',this)">WORK</button>
                                    <button class="filt-btn" onclick="filterContacts('mentor',this)">MENTORS</button>
                                </div>
                                <div class="contacts-grid" id="contactsGrid"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ════════ EXPENSE EVALUATOR ════════ -->
                <div class="app-window" id="expenseEvaluator">
                    <div class="app-header">
                        <div class="app-btns">
                            <div class="app-btn btn-red" onclick="closeApp('expenseEvaluator')"></div>
                            <div class="app-btn btn-yellow"></div>
                            <div class="app-btn btn-green"></div>
                        </div>
                        <div class="app-title">DAILY SPEND INSIGHT — ONE HONEST ENTRY PER DAY</div>
                    </div>
                    <div class="app-body">
                        <div class="exp-layout">
                            <div class="exp-form">
                                <div class="day-bar db-pending" id="dayBar">TODAY'S LOG: PENDING</div>
                                <div class="sec-title">TODAY'S ENTRY</div>
                                <div class="fg" style="margin-bottom:9px;">
                                    <label>TOTAL AMOUNT SPENT TODAY (₹) *</label>
                                    <input type="number" id="exp-amt" placeholder="e.g. 2500" min="0" />
                                </div>
                                <div class="fg" style="margin-bottom:9px;">
                                    <label>TYPE OF SPEND *</label>
                                    <select id="exp-type">
                                        <option value="">— Select category —</option>
                                        <option value="Food &amp; Home">Food &amp; Home</option>
                                        <option value="Transport">Transport</option>
                                        <option value="Health &amp; Wellness">Health &amp; Wellness</option>
                                        <option value="Shopping">Shopping</option>
                                        <option value="Social &amp; Dining">Social &amp; Dining</option>
                                        <option value="Entertainment">Entertainment</option>
                                        <option value="Learning &amp; Growth">Learning &amp; Growth</option>
                                        <option value="Bills &amp; Utilities">Bills &amp; Utilities</option>
                                        <option value="Giving &amp; Charity">Giving &amp; Charity</option>
                                        <option value="Other">Other</option>
                                    </select>
                                </div>
                                <div style="margin-bottom:13px;">
                                    <label style="font-family:'Orbitron',sans-serif;font-size:.6rem;letter-spacing:1px;color:var(--ac);opacity:.75;display:block;margin-bottom:7px;">HOW WAS TODAY? *</label>
                                    <div class="emotion-grid">
                                        <button class="emo-btn" onclick="pickEmo('Needful',this)">✓ Needful</button>
                                        <button class="emo-btn" onclick="pickEmo('Grateful',this)">♥ Grateful</button>
                                        <button class="emo-btn" onclick="pickEmo('Want Day',this)">◎ Want Day</button>
                                        <button class="emo-btn" onclick="pickEmo('Impulse',this)">⚡ Impulse</button>
                                        <button class="emo-btn" onclick="pickEmo('Stressed',this)">⊗ Stressed</button>
                                        <button class="emo-btn" onclick="pickEmo('Joyful',this)">★ Joyful</button>
                                    </div>
                                    <input type="hidden" id="exp-emo" />
                                </div>
                                <button class="btn-p" id="expBtn" onclick="logExpense()" style="width:100%;">LOG TODAY'S SPEND</button>
                                <div class="divider"></div>
                                <div style="font-size:.68rem;color:rgba(255,255,255,.28);line-height:1.7;">
                                    One honest entry per day.<br>
                                    Your emotional data stays private.<br>
                                    No edits after submission.
                                </div>
                            </div>
                            <div class="exp-right">
                                <div class="month-summary" id="expSummary"></div>
                                <div class="sec-title">SPEND HISTORY</div>
                                <table class="tbl">
                                    <thead>
                                        <tr>
                                            <th>DATE</th>
                                            <th>AMOUNT</th>
                                            <th>TYPE</th>
                                            <th>DAY QUALITY</th>
                                        </tr>
                                    </thead>
                                    <tbody id="expHistory"></tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ════════ NAMELESS ASTROLOGY ════════ -->
                <div class="app-window" id="namelessAstrology">
                    <div class="app-header">
                        <div class="app-btns">
                            <div class="app-btn btn-red" onclick="closeApp('namelessAstrology')"></div>
                            <div class="app-btn btn-yellow"></div>
                            <div class="app-btn btn-green"></div>
                        </div>
                        <div class="app-title">NAMELESS ASTROLOGY — CELESTIAL ALIGNMENT</div>
                    </div>
                    <div class="app-body">
                        <div class="astro-row">
                            <div class="fg">
                                <label>DATE OF BIRTH</label>
                                <input type="date" id="dob-input" />
                            </div>
                            <div class="fg">
                                <label>PLACE OF BIRTH</label>
                                <input type="text" id="pob-input" placeholder="e.g. Bangalore, India" />
                            </div>
                            <button class="btn-p" onclick="generateAstrology()">GENERATE INSIGHTS</button>
                        </div>

                        <div id="astroPlaceholder" class="astro-placeholder">
                            <div style="font-size:2.5rem;margin-bottom:.8rem;">☽</div>
                            <div style="font-family:'Orbitron',sans-serif;font-size:.75rem;letter-spacing:2px;line-height:1.8;">
                                ENTER YOUR BIRTH DETAILS<br>TO REVEAL YOUR COSMIC ALIGNMENT
                            </div>
                        </div>

                        <div id="astroResults" style="display:none">
                            <div class="astro-cards" id="astroCards"></div>
                            <div class="imp-dates">
                                <h3>★ IMPORTANT DAYS — NEXT 30 DAYS</h3>
                                <div class="date-grid" id="dateGrid"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ════════ IPNOTEC EVENTS ════════ -->
                <div class="app-window" id="ipnotecEvents">
                    <div class="app-header">
                        <div class="app-btns">
                            <div class="app-btn btn-red" onclick="closeApp('ipnotecEvents')"></div>
                            <div class="app-btn btn-yellow"></div>
                            <div class="app-btn btn-green"></div>
                        </div>
                        <div class="app-title">IPNOTEC EVENTS — SOCIAL RESPONSIBILITY CALENDAR</div>
                    </div>
                    <div class="app-body">
                        <!-- YOUR 1 IPNOTEC EVENT -->
                        <div class="esec-title" style="margin-top:0">YOUR IPNOTEC EVENT — 1001 MEMBERSHIP EXCLUSIVE</div>
                        <div class="your-event">
                            <div style="flex-shrink:0;text-align:center;">
                                <div class="ye-badge">YOUR EVENT</div>
                                <div style="margin-top:6px;font-family:'Orbitron',sans-serif;font-size:.52rem;color:rgba(255,255,255,.3);letter-spacing:1px;">₹1001 MEMBER</div>
                            </div>
                            <div class="ye-content">
                                <h3>IPNOTEC WISDOM SUMMIT 2025</h3>
                                <p>A curated gathering of VIBGYOR visionaries — where culture meets commerce. An exclusive evening of insights, deep connections, and shared futures. This is your one event as a 1001 member.</p>
                                <div class="ye-meta">
                                    <span><i class="fas fa-calendar"></i> Mar 21, 2025</span>
                                    <span><i class="fas fa-map-marker-alt"></i> Bangalore, India</span>
                                    <span><i class="fas fa-users"></i> 108 Members Only</span>
                                    <span><i class="fas fa-clock"></i> 6:00 PM Onwards</span>
                                </div>
                            </div>
                            <button class="btn-p" style="flex-shrink:0;">REGISTER NOW</button>
                        </div>

                        <!-- GREY SECTION — OPEN / NOMAD -->
                        <div class="esec-title">NOMAD EVENTS — NARDO GREY TIER — OPEN ACCESS</div>
                        <div class="ecard-grid">
                            <div class="ecard ec-grey">
                                <div class="et" style="color:var(--nardo);">Nomad Networking Night</div>
                                <div class="ed">No agenda, just conversations that move ideas forward. Open to all curious minds.</div>
                                <div class="em">
                                    <div class="edate"><i class="fas fa-calendar"></i> Every Last Friday</div>
                                    <div class="etier t-open">OPEN</div>
                                </div>
                            </div>
                            <div class="ecard ec-grey">
                                <div class="et" style="color:var(--nardo);">Silent Co-Working Sessions</div>
                                <div class="ed">Shared focus sessions in a distraction-minimal environment. Work in company.</div>
                                <div class="em">
                                    <div class="edate"><i class="fas fa-calendar"></i> Every Saturday AM</div>
                                    <div class="etier t-open">OPEN</div>
                                </div>
                            </div>
                            <div class="ecard ec-grey">
                                <div class="et" style="color:var(--nardo);">Idea Dump Workshop</div>
                                <div class="ed">Bring your half-baked ideas. Leave with structure, feedback, and a plan.</div>
                                <div class="em">
                                    <div class="edate"><i class="fas fa-calendar"></i> Bi-monthly</div>
                                    <div class="etier t-open">OPEN</div>
                                </div>
                            </div>
                        </div>

                        <!-- WHITE SECTION — PREMIUM VIP -->
                        <div class="esec-title">PREMIUM EVENTS — WHITE TIER — EXCLUSIVE VIP ACCESS</div>
                        <div class="ecard-grid">
                            <div class="ecard ec-white">
                                <div class="et" style="color:#fff;">VIP Mastermind Circle</div>
                                <div class="ed">Closed-door monthly sessions with top performers. Deep strategy, hard accountability, real growth.</div>
                                <div class="em">
                                    <div class="edate"><i class="fas fa-calendar"></i> Monthly — 3rd Saturday</div>
                                    <div class="etier t-premium">VIP ONLY</div>
                                </div>
                            </div>
                            <div class="ecard ec-white">
                                <div class="et" style="color:#fff;">IPNOTEC Annual Gala 2025</div>
                                <div class="ed">The flagship celebration of VIBGYOR excellence, community milestones, and new year intentions.</div>
                                <div class="em">
                                    <div class="edate"><i class="fas fa-calendar"></i> Dec 21, 2025</div>
                                    <div class="etier t-premium">VIP ONLY</div>
                                </div>
                            </div>
                        </div>

                        <!-- VIBGYOR COMMUNITY EVENTS -->
                        <div class="esec-title">VIBGYOR COMMUNITY EVENTS — MEMBER ACCESS</div>
                        <div class="ecard-grid">
                            <div class="ecard ec-violet">
                                <div class="et" style="color:var(--violet);">Wealth &amp; Investment Summit</div>
                                <div class="ed">Top investors share frameworks for building generational wealth.</div>
                                <div class="em"><div class="edate"><i class="fas fa-calendar"></i> Apr 2025</div><div class="etier t-member">MEMBER</div></div>
                            </div>
                            <div class="ecard ec-indigo">
                                <div class="et" style="color:var(--indigo);">Tech Innovation Hackathon</div>
                                <div class="ed">48-hour coding challenge solving real-world problems with technology.</div>
                                <div class="em"><div class="edate"><i class="fas fa-calendar"></i> May 2025</div><div class="etier t-member">MEMBER</div></div>
                            </div>
                            <div class="ecard ec-blue">
                                <div class="et" style="color:var(--blue);">Brand Trust Workshop</div>
                                <div class="ed">Building authentic brands that customers trust, buy from, and love.</div>
                                <div class="em"><div class="edate"><i class="fas fa-calendar"></i> Jun 2025</div><div class="etier t-member">MEMBER</div></div>
                            </div>
                            <div class="ecard ec-green">
                                <div class="et" style="color:var(--green);">Green Revolution Meetup</div>
                                <div class="ed">Sustainable living practices and eco-conscious business models.</div>
                                <div class="em"><div class="edate"><i class="fas fa-calendar"></i> Jul 2025</div><div class="etier t-member">MEMBER</div></div>
                            </div>
                            <div class="ecard ec-yellow">
                                <div class="et" style="color:var(--yellow);">Young Leaders Forum</div>
                                <div class="ed">High-energy networking for entrepreneurs aged 18 to 23.</div>
                                <div class="em"><div class="edate"><i class="fas fa-calendar"></i> Aug 2025</div><div class="etier t-member">MEMBER</div></div>
                            </div>
                            <div class="ecard ec-red">
                                <div class="et" style="color:var(--red);">Real Estate Power Meet</div>
                                <div class="ed">Strategies for property investment, development, and market cycles.</div>
                                <div class="em"><div class="edate"><i class="fas fa-calendar"></i> Sep 2025</div><div class="etier t-member">MEMBER</div></div>
                            </div>
                        </div>
                    </div>
                </div>

            </div><!-- /pc-content -->
        </div><!-- /pc-screen -->

        <div class="pc-footer">
            <div class="pc-branding">IPNOTEC VIRTUAL SYSTEM</div>
            <div class="pc-model">MODEL: IPV.BLR.BYB.001</div>
            <div class="pc-power" id="pcPower"><i class="fas fa-power-off"></i></div>
        </div>
    </div><!-- /virtual-pc -->
</div><!-- /wallpaper -->

<!-- COLOR PICKER -->
<div class="color-picker">
    <div class="co" data-c="violet"  style="background:var(--violet)"  onclick="changeColor(this)" title="Violet"></div>
    <div class="co" data-c="indigo"  style="background:var(--indigo)"  onclick="changeColor(this)" title="Indigo"></div>
    <div class="co" data-c="blue"    style="background:var(--blue)"    onclick="changeColor(this)" title="Blue"></div>
    <div class="co" data-c="green"   style="background:var(--green)"   onclick="changeColor(this)" title="Green"></div>
    <div class="co" data-c="yellow"  style="background:var(--yellow)"  onclick="changeColor(this)" title="Yellow"></div>
    <div class="co act" data-c="orange" style="background:var(--orange)" onclick="changeColor(this)" title="Orange"></div>
    <div class="co" data-c="red"     style="background:var(--red)"     onclick="changeColor(this)" title="Red"></div>
    <div class="co" data-c="nardo"   style="background:var(--nardo)"   onclick="changeColor(this)" title="Nardo Grey"></div>
    <div class="co" data-c="white"   style="background:rgba(245,245,245,.9);border-color:rgba(255,255,255,.2)" onclick="changeColor(this)" title="White"></div>
</div>

<!-- TABS -->
<div class="tabs">
    <div class="tab act" onclick="openApp('addressBook')">Address Book</div>
    <div class="tab" onclick="openApp('expenseEvaluator')">Expense Log</div>
    <div class="tab" onclick="openApp('namelessAstrology')">Astrology</div>
    <div class="tab" onclick="openApp('ipnotecEvents')">Events</div>
</div>

<!-- ════════ BIRTHDAY SETUP MODAL ════════ -->
<div class="bday-setup-modal" id="bdaySetupModal">
    <div class="bs-container">
        <div style="font-size:2.5rem;margin-bottom:12px;">🎂</div>
        <div class="bs-title">BIRTHDAY ACTIVATION</div>
        <div class="bs-sub">
            Enter your date of birth to activate the IPNOTEC GIFT.<br>
            Your 108 Priority contacts will be locked for one full year.
        </div>
        <div class="fg" style="margin-bottom:16px;text-align:left;">
            <label>YOUR DATE OF BIRTH</label>
            <input type="date" id="bdayDobInput" />
        </div>
        <div style="display:flex;gap:10px;justify-content:center;">
            <button class="btn-s" onclick="closeBdaySetup()">CANCEL</button>
            <button class="btn-p" onclick="confirmBdayActivate()">🎁 ACTIVATE BIRTHDAY GIFT</button>
        </div>
        <div style="font-size:.65rem;color:rgba(255,255,255,.2);margin-top:16px;line-height:1.6;">
            This is a one-time annual activation.<br>
            Your Life Priority Matches will be revealed 24 hours later.
        </div>
    </div>
</div>

<!-- ════════ YEAR-LOCK MODAL ════════ -->
<div class="yearlock-modal" id="yearlockModal">
    <div class="yl-container">
        <div class="yl-icon">🔒</div>
        <div class="yl-title">YEAR-LOCK ACTIVE</div>
        <div class="yl-body">
            Your 108 Priority Contacts are sealed from<br>
            <strong style="color:var(--ac)" id="ylFromDate">—</strong> to <strong style="color:var(--ac)" id="ylToDate">—</strong>.<br><br>
            The Life Priority Match is a sacred annual ritual.<br>
            You cannot change or re-activate until your next birthday.
        </div>
        <div class="yl-countdown" id="ylCountdown">— days remaining</div>
        <div style="display:flex;gap:10px;justify-content:center;flex-wrap:wrap;">
            <button class="yl-btn view" onclick="closeyearlockAndView()">👁 VIEW MY MATCHES</button>
            <button class="yl-btn" onclick="document.getElementById('yearlockModal').classList.remove('show')">CLOSE</button>
        </div>
    </div>
</div>

<!-- ════════ SEALED (24H WAIT) MODAL ════════ -->
<div class="sealed-modal" id="sealedModal">
    <div class="sl-container">
        <div style="font-size:2.8rem;">🔮</div>
        <div class="sl-title">LIFE PRIORITY MATCH — SEALED</div>
        <div class="sl-timer" id="sealedTimerDisplay">00:00:00</div>
        <div class="sl-sub">
            Your 108 contacts have received your priority signal.<br>
            The universe is computing mutual matches.<br><br>
            <strong style="color:var(--ac);">Return in 24 hours</strong> to see who has you<br>
            at the same priority in their own book.
        </div>
        <div style="margin-top:24px;">
            <button class="yl-btn" onclick="document.getElementById('sealedModal').classList.remove('show')">UNDERSTOOD</button>
        </div>
    </div>
</div>

<!-- ════════ FRESH-BOOK MODALS ════════ -->
<div class="freshbook-modal" id="freshbookModal">
    <div class="fb-container">
        <div class="fb-header">
            <h2>🎁 IPNOTEC FRESH-BOOK</h2>
            <button class="fb-close" onclick="closeFreshbook()">✕</button>
        </div>
        <div class="fb-content">
            <div class="fb-stats">
                <div class="fb-stat-item">
                    <span class="fb-stat-num" id="fbTotalContacts">108</span>
                    <span class="fb-stat-label">TOTAL CONTACTS</span>
                </div>
                <div class="fb-stat-item">
                    <span class="fb-stat-num" id="fbMatchCount">0</span>
                    <span class="fb-stat-label">MUTUAL MATCHES</span>
                </div>
                <div class="fb-stat-item">
                    <span class="fb-stat-num" id="fbMatchPercent">0%</span>
                    <span class="fb-stat-label">MATCH RATE</span>
                </div>
            </div>
            <div style="font-size:.72rem;color:rgba(255,255,255,.3);margin-bottom:14px;text-align:center;letter-spacing:1px;">
                🔮 HOVER/TAP A NAME TO REVEAL · LIFE PRIORITY MATCH IS PRIVATE TO YOU
            </div>
            <div class="fb-matches" id="fbMatchesGrid"></div>
            <div id="fbNoMatches" style="text-align:center;padding:40px;color:rgba(255,255,255,.4);">
                <p>No mutual matches found yet.</p>
                <p style="font-size:.8rem;margin-top:8px;">Check back after birthday activation.</p>
            </div>
        </div>
        <div class="fb-footer">
            <button class="fb-action-btn" onclick="exportFreshbook('csv')">📥 EXPORT CSV</button>
            <button class="fb-action-btn" onclick="exportFreshbook('json')">📥 EXPORT JSON</button>
            <button class="fb-action-btn primary" onclick="closeFreshbook()">CLOSE</button>
        </div>
    </div>
</div>

<div class="birthday-choice-modal" id="birthdayChoiceModal">
    <div class="bc-container">
        <div class="bc-title">🎂 BIRTHDAY ACTIVATED</div>
        <div class="bc-subtitle">
            It's your birthday! You can either review your FRESH-BOOK matches from last year,<br>
            or create a fresh new set of 108 contacts for this year.
        </div>
        <div class="bc-options">
            <button class="bc-option-btn" onclick="proceedWithOldFreshbook()">
                <span class="bc-option-title">📖 Review Last Year's FRESH-BOOK</span>
                <span class="bc-option-desc">View previous matches before deciding</span>
            </button>
            <button class="bc-option-btn" onclick="proceedWithFreshFill()">
                <span class="bc-option-title">✨ Create Fresh 108 Contacts</span>
                <span class="bc-option-desc">Start new priority assignments</span>
            </button>
            <button class="bc-option-btn" onclick="closeBirthdayChoice()" style="background:rgba(255,105,0,.04);border-color:rgba(255,105,0,.1);color:rgba(255,255,255,.5);">
                <span class="bc-option-title">Cancel</span>
                <span class="bc-option-desc">Decide later</span>
            </button>
        </div>
    </div>
</div>

<div class="contact-assign-modal" id="contactAssignModal">
    <div class="ca-container">
        <div class="ca-header">
            <h2>📝 ASSIGN PRIORITY EMOTIONS</h2>
            <p style="font-size:.8rem;color:rgba(255,255,255,.5);margin-top:6px;">Select emotion & category for each contact (Sample mode: First 5 manual, rest auto)</p>
            <div class="ca-progress">
                <div class="ca-progress-bar" id="caProgressBar"></div>
            </div>
        </div>
        <div class="contact-assign-form" id="contactAssignForm"></div>
        <div class="ca-actions">
            <button class="ca-btn" onclick="cancelContactAssign()">CANCEL</button>
            <button class="ca-btn primary" onclick="completeContactAssign()" id="completeAssignBtn">NEXT CONTACT</button>
        </div>
    </div>
</div>

<div class="matching-process-modal" id="matchingProcessModal">
    <div class="mp-container">
        <div class="mp-header">
            <h2>⚡ CALCULATING MUTUAL MATCHES</h2>
            <p style="font-size:.85rem;color:rgba(255,255,255,.5);margin-top:8px;">
                Comparing your assignments with simulated global database...<br>
                Matching by: NAME + EMOTION + CATEGORY
            </p>
        </div>
        
        <div class="mp-counter" id="matchingCounter">
            <div style="text-align:center;">
                <div style="font-size:1.2rem;color:var(--ac);font-weight:700;">Starting process...</div>
            </div>
        </div>
        
        <div class="mp-grid" id="matchingGrid">
            <div style="text-align:center;color:rgba(255,255,255,.4);padding:20px;">
                Processing contacts...
            </div>
        </div>
        
        <div class="mp-actions">
            <button class="mp-btn primary" id="matchingCompleteBtn" onclick="proceedToFreshbook()" style="display:none;">
                VIEW FRESH-BOOK MATCHES →
            </button>
        </div>
    </div>
</div>

<script>
// ══════════════════════════════════════════
//  IPNOTEC FRESH-BOOK SYSTEM v3 — BIRTHDAY GIFT
//  Matching Algorithm: PRIORITY NUMBER (P1/P2/P3)
//  Lock Period: Birthday to Birthday (1 year)
//  Reveal: 24 hours after activation
//  Privacy: Names blurred until hover/tap
// ══════════════════════════════════════════

const TOTAL_CONTACTS = 108;
const SEAL_HOURS = 24; // hours before reveal unlocks

// ── Simulated name pool for filling up to 108 ──
const SIM_FIRST = ['Raj','Priya','Amit','Neha','Vikram','Sonia','Rohan','Anjali','Arjun','Divya',
    'Arun','Kavya','Karan','Maya','Nikhil','Pooja','Sandeep','Shreya','Taran','Usha',
    'Dev','Isha','Ravi','Meera','Suresh','Deepa','Anand','Lakshmi','Mohan','Geeta'];
const SIM_LAST  = ['Kumar','Singh','Patel','Sharma','Verma','Gupta','Nair','Desai','Reddy','Rao',
    'Pandey','Mishra','Jain','Saxena','Bhat','Bansal','Chopra','Dutta','Ghosh','Iyer',
    'Shah','Pillai','Menon','Kapoor','Malhotra','Trivedi','Shukla','Bajaj','Mehta','Dubey'];
const SIM_CATS = ['family','friends','professional','mentor','other'];

// ── localStorage keys ──
const LS = {
    ACTIVATED_TS : 'ipn_bday_activated_ts',   // ISO timestamp when activated
    ACTIVATED_YEAR: 'ipn_bday_activated_year', // "YYYY-MM-DD" of birthday that triggered
    CONTACTS_108 : 'ipn_bday_108',             // JSON array of 108 contacts with their_pri
    MATCHES      : 'ipn_bday_matches',         // JSON array of mutual matches
    USER_DOB     : 'ipn_user_dob'              // YYYY-MM-DD
};

// ── Generate a seeded pseudo-random number ──
function seededRand(seed, index){
    const x = Math.sin(seed * 9301 + index * 49297 + 233) * 100000;
    return x - Math.floor(x);
}

// ── Get state ──
function getBdayState(){
    const activatedTs = localStorage.getItem(LS.ACTIVATED_TS);
    const activatedYear = localStorage.getItem(LS.ACTIVATED_YEAR);
    const userDob = localStorage.getItem(LS.USER_DOB);
    const now = new Date();

    if(!activatedTs){
        return { state: 'NEVER_ACTIVATED', userDob };
    }

    const activatedDate = new Date(activatedTs);
    const hoursElapsed = (now - activatedDate) / 3600000;

    // Check if this is a NEW birthday year (activated previously, new year now)
    if(activatedYear && userDob){
        const dob = new Date(userDob);
        const nextBirthday = new Date(activatedDate.getFullYear() + 1, dob.getMonth(), dob.getDate());
        if(now >= nextBirthday){
            return { state: 'NEW_YEAR', userDob, activatedDate, hoursElapsed };
        }
    }

    if(hoursElapsed < SEAL_HOURS){
        return { state: 'SEALED', userDob, activatedDate, hoursElapsed, secsRemaining: Math.ceil((SEAL_HOURS - hoursElapsed) * 3600) };
    }

    return { state: 'REVEALED', userDob, activatedDate, hoursElapsed };
}

// ── Render the birthday button based on state ──
function renderBdayButton(){
    const btn = document.getElementById('bdayMegaBtn');
    const txt = document.getElementById('bdayBtnText');
    if(!btn) return;
    const s = getBdayState();

    btn.className = 'bday-mega-btn'; // reset
    switch(s.state){
        case 'NEVER_ACTIVATED':
        case 'NEW_YEAR':
            btn.innerHTML = `<span class="bd-icon">🎂</span><span id="bdayBtnText">MY BIRTHDAY — ACTIVATE GIFT</span>`;
            break;
        case 'SEALED':
            btn.classList.add('sealed');
            const h = Math.floor(s.secsRemaining / 3600);
            const m = Math.floor((s.secsRemaining % 3600) / 60);
            btn.innerHTML = `<span class="bd-icon">🔮</span><span id="bdayBtnText">SEALED — OPENS IN ${h}h ${m}m</span>`;
            break;
        case 'REVEALED':
            btn.classList.add('ready');
            btn.innerHTML = `<span class="bd-icon">✨</span><span id="bdayBtnText">LIFE PRIORITY MATCH — VIEW NOW</span>`;
            break;
    }
}

// ── Main click handler ──
function handleBirthdayClick(){
    const s = getBdayState();
    switch(s.state){
        case 'NEVER_ACTIVATED':
        case 'NEW_YEAR':
            openBdaySetup();
            break;
        case 'SEALED':
            showSealedModal(s.secsRemaining);
            break;
        case 'REVEALED':
            viewFreshbook();
            break;
    }
}

// ── Birthday Setup Modal ──
function openBdaySetup(){
    // Pre-fill if DOB already stored
    const saved = localStorage.getItem(LS.USER_DOB);
    if(saved) document.getElementById('bdayDobInput').value = saved;
    document.getElementById('bdaySetupModal').classList.add('show');
}

function closeBdaySetup(){
    document.getElementById('bdaySetupModal').classList.remove('show');
}

function confirmBdayActivate(){
    const dob = document.getElementById('bdayDobInput').value;
    if(!dob){ alert('Please enter your date of birth.'); return; }
    localStorage.setItem(LS.USER_DOB, dob);
    closeBdaySetup();
    runBirthdayFill(dob);
}

// ── Core: Fill 108 contacts ──
function runBirthdayFill(dob){
    // Step 1: Get real contacts from DB
    const realContacts = (JSON.parse(localStorage.getItem('ipn_contacts')||'[]')).slice(0, TOTAL_CONTACTS);

    // Step 2: Generate simulated contacts to fill up to 108
    const needed = TOTAL_CONTACTS - realContacts.length;
    const simContacts = [];
    const dobSeed = new Date(dob).getTime() % 99999;

    for(let i = 0; i < needed; i++){
        const fn = SIM_FIRST[Math.floor(seededRand(dobSeed, i*3)   * SIM_FIRST.length)];
        const ln = SIM_LAST [Math.floor(seededRand(dobSeed, i*3+1) * SIM_LAST.length)];
        const cat = SIM_CATS[Math.floor(seededRand(dobSeed, i*3+2) * SIM_CATS.length)];
        const pri = Math.floor(seededRand(dobSeed, i*3+3) * 3) + 1; // 1,2,3
        simContacts.push({ id: `sim_${i}`, name: `${fn} ${ln}`, phone: '9'+String(Math.floor(seededRand(dobSeed,i*7)*1e9)).padStart(9,'0'), cat, pri, isSimulated: true });
    }

    // Step 3: Combine all 108 contacts
    const all108 = [...realContacts, ...simContacts];

    // Step 4: For each contact, simulate what priority THEY gave the user back
    // Weighting: slightly biased toward reciprocal but mostly random
    // ~28% natural match rate (P1→P1, P2→P2, P3→P3)
    all108.forEach((c, i) => {
        const r = seededRand(dobSeed + 777, i * 13); // seeded random for reproducibility
        // Assign their_pri randomly among 1,2,3
        if(r < 0.333) c.their_pri = 1;
        else if(r < 0.667) c.their_pri = 2;
        else c.their_pri = 3;
    });

    // Step 5: Compute mutual matches (same priority number)
    const matches = all108.filter(c => c.pri === c.their_pri);

    // Step 6: Store everything
    const now = new Date();
    localStorage.setItem(LS.ACTIVATED_TS, now.toISOString());
    localStorage.setItem(LS.ACTIVATED_YEAR, `${now.getFullYear()}-${String(new Date(dob).getMonth()+1).padStart(2,'0')}-${String(new Date(dob).getDate()).padStart(2,'0')}`);
    localStorage.setItem(LS.CONTACTS_108, JSON.stringify(all108));
    localStorage.setItem(LS.MATCHES, JSON.stringify(matches));

    // Step 7: Show the activation confirmation with matching animation
    showMatchingProcess(all108, matches);
    renderBdayButton();
}

// ── Real-time matching visualization ──
function showMatchingProcess(all108, finalMatches){
    document.getElementById('matchingProcessModal').classList.add('show');
    const grid = document.getElementById('matchingGrid');
    grid.innerHTML = '';

    // Update header text
    document.querySelector('.mp-header p').innerHTML =
        `Simulating how each of your 108 contacts has tagged you back...<br>
         Match Rule: <strong style="color:var(--ac)">They assigned you the SAME PRIORITY NUMBER as you assigned them</strong>`;

    let matchCount = 0;

    const processNext = (i) => {
        if(i >= all108.length){
            finishMatchingDisplay(matchCount, all108.length);
            return;
        }
        const c = all108[i];
        const isMatch = (c.pri === c.their_pri);
        if(isMatch) matchCount++;

        document.getElementById('matchingCounter').innerHTML = `
            <div style="font-size:1.1rem;color:var(--ac);font-weight:700;">
                Scanning ${i+1} / ${all108.length} &nbsp;·&nbsp;
                <span style="color:var(--green)">${matchCount} matches found</span>
            </div>`;

        const card = document.createElement('div');
        card.style.cssText = `background:${isMatch?'rgba(57,211,83,.1)':'rgba(255,105,0,.04)'};
            border:1px solid ${isMatch?'rgba(57,211,83,.3)':'rgba(255,105,0,.1)'};
            border-radius:5px;padding:10px;margin-bottom:7px;font-size:.83rem;
            animation:slideIn .25s ease-out;`;
        card.innerHTML = `
            <div style="display:flex;justify-content:space-between;align-items:center;">
                <div>
                    <span style="color:var(--ac);font-weight:700">${c.name}</span>
                    <span style="font-size:.7rem;color:rgba(255,255,255,.3);margin-left:8px;">${c.isSimulated?'[member]':'[your contact]'}</span><br>
                    <span style="font-size:.72rem;color:rgba(255,255,255,.5);">
                        You → P${c.pri} &nbsp;|&nbsp; They → P${c.their_pri} back to you
                    </span>
                </div>
                <div style="font-size:1.6rem;${isMatch?'color:var(--green)':'color:rgba(255,255,255,.15)'}">
                    ${isMatch ? '✓' : '✗'}
                </div>
            </div>`;
        grid.appendChild(card);
        grid.scrollTop = grid.scrollHeight;

        setTimeout(() => processNext(i+1), 60);
    };

    processNext(0);
}

function finishMatchingDisplay(matchCount, total){
    const pct = Math.round((matchCount/total)*100);
    document.getElementById('matchingCounter').innerHTML = `
        <div style="text-align:center;padding:16px;background:rgba(255,105,0,.07);border-radius:6px;border:1px solid rgba(255,105,0,.2);">
            <div style="font-size:1.3rem;color:var(--ac);font-weight:700;margin-bottom:6px;">✓ MATCHING COMPLETE</div>
            <div style="font-size:1.1rem;color:rgba(255,255,255,.8);">
                <span style="color:var(--green);font-size:1.5rem;">${matchCount}</span> Mutual Priority Matches out of ${total}
            </div>
            <div style="font-size:.8rem;color:rgba(255,255,255,.4);margin-top:8px;">${pct}% match rate</div>
            <div style="margin-top:14px;padding:10px;background:rgba(155,0,255,.08);border:1px solid rgba(155,0,255,.2);border-radius:4px;font-size:.78rem;color:rgba(155,0,255,.9);line-height:1.7;">
                🔮 Sealed for 24 hours.<br>
                Return tomorrow to reveal your <strong>Life Priority Matches</strong>.<br>
                Names will be blurred — hover to reveal each one privately.
            </div>
        </div>`;
    document.getElementById('matchingCompleteBtn').style.display = 'block';
    document.getElementById('matchingCompleteBtn').textContent = 'UNDERSTOOD — SEAL THE BOOK ✓';
    document.getElementById('matchingCompleteBtn').onclick = () => {
        document.getElementById('matchingProcessModal').classList.remove('show');
        renderBdayButton();
    };
}

// ── Year-lock modal ──
function showYearLock(){
    const s = getBdayState();
    const dob = localStorage.getItem(LS.USER_DOB);
    const activatedDate = new Date(localStorage.getItem(LS.ACTIVATED_TS));
    const nextBday = dob ? new Date(activatedDate.getFullYear()+1, new Date(dob).getMonth(), new Date(dob).getDate()) : null;

    document.getElementById('ylFromDate').textContent = activatedDate.toLocaleDateString('en-IN',{day:'2-digit',month:'short',year:'numeric'});
    document.getElementById('ylToDate').textContent = nextBday ? nextBday.toLocaleDateString('en-IN',{day:'2-digit',month:'short',year:'numeric'}) : '—';

    const daysLeft = nextBday ? Math.ceil((nextBday - new Date()) / 86400000) : '—';
    document.getElementById('ylCountdown').textContent = `${daysLeft} days until next Birthday Gift`;

    document.getElementById('yearlockModal').classList.add('show');
}

function closeyearlockAndView(){
    document.getElementById('yearlockModal').classList.remove('show');
    viewFreshbook();
}

// ── Sealed modal with live countdown ──
function showSealedModal(secsRemaining){
    document.getElementById('sealedModal').classList.add('show');
    updateSealedTimer(secsRemaining);
}

function updateSealedTimer(secsLeft){
    if(!document.getElementById('sealedModal').classList.contains('show')) return;
    const h = String(Math.floor(secsLeft/3600)).padStart(2,'0');
    const m = String(Math.floor((secsLeft%3600)/60)).padStart(2,'0');
    const s = String(secsLeft%60).padStart(2,'0');
    document.getElementById('sealedTimerDisplay').textContent = `${h}:${m}:${s}`;
    if(secsLeft > 0) setTimeout(()=>updateSealedTimer(secsLeft-1), 1000);
}

// ── View FreshBook with blur privacy ──
function viewFreshbook(){
    const s = getBdayState();
    if(s.state === 'SEALED'){
        showSealedModal(s.secsRemaining);
        return;
    }

    const matches = JSON.parse(localStorage.getItem(LS.MATCHES)||'[]');
    const all108  = JSON.parse(localStorage.getItem(LS.CONTACTS_108)||'[]');

    const matchCount = matches.length;
    const totalCount = all108.length || 108;
    const pct = totalCount > 0 ? Math.round((matchCount/totalCount)*100) : 0;

    document.getElementById('fbTotalContacts').textContent = totalCount;
    document.getElementById('fbMatchCount').textContent = matchCount;
    document.getElementById('fbMatchPercent').textContent = pct + '%';

    const grid = document.getElementById('fbMatchesGrid');
    const noMatches = document.getElementById('fbNoMatches');

    if(!matches.length){
        grid.style.display = 'none';
        noMatches.style.display = 'block';
    } else {
        noMatches.style.display = 'none';
        grid.style.display = 'grid';
        grid.innerHTML = matches.map((m, idx) => {
            const priBadge = `<span class="fb-priority-badge fb-p${m.pri}">PRIORITY ${m.pri}</span>`;
            const srcLabel = m.isSimulated ? 'IPNOTEC MEMBER' : 'YOUR CONTACT';
            return `
            <div class="fb-match-card" style="cursor:default;">
                <div class="fb-contact-name fb-name-blur" 
                     onclick="this.classList.toggle('revealed')"
                     title="Tap to reveal">${m.name}</div>
                <div class="fb-blur-hint">↑ TAP TO REVEAL</div>
                <div style="margin:6px 0;">
                    ${priBadge}
                    <span class="fb-emotion-tag">${m.cat||'—'}</span>
                </div>
                <div class="fb-match-badge">✓ MUTUAL P${m.pri} MATCH</div>
                <div class="fb-match-source">${srcLabel} · They also placed you at Priority ${m.their_pri}</div>
            </div>`;
        }).join('');
    }

    document.getElementById('freshbookModal').classList.add('show');
}

// ── Export ──
function exportFreshbook(format){
    const matches = JSON.parse(localStorage.getItem(LS.MATCHES)||'[]');
    if(!matches.length){ alert('No matches to export.'); return; }
    if(format==='csv'){
        let csv = 'Name,Phone,Your Priority,Their Priority,Category,Source\n';
        matches.forEach(m=>{
            csv += `"${m.name}","${m.phone||''}","P${m.pri}","P${m.their_pri}","${m.cat||''}","${m.isSimulated?'Member':'Your Contact'}"\n`;
        });
        downloadFile(csv,'life-priority-matches.csv','text/csv');
    } else {
        downloadFile(JSON.stringify(matches,null,2),'life-priority-matches.json','application/json');
    }
}

function downloadFile(content,filename,type){
    const blob=new Blob([content],{type});
    const url=URL.createObjectURL(blob);
    const a=document.createElement('a');
    a.href=url; a.download=filename; a.click();
    URL.revokeObjectURL(url);
}

function closeFreshbook(){ document.getElementById('freshbookModal').classList.remove('show'); }
function closeBirthdayChoice(){ document.getElementById('birthdayChoiceModal').classList.remove('show'); }
function closeMatchingModal(){ document.getElementById('matchingProcessModal').classList.remove('show'); renderBdayButton(); }
function cancelContactAssign(){ document.getElementById('contactAssignModal').classList.remove('show'); }
function proceedToFreshbook(){ closeMatchingModal(); setTimeout(viewFreshbook, 300); }

// ── DEMO RESET ──
function resetBirthdayDemo(){
    if(!confirm('DEMO RESET: Clear all birthday data and start fresh?')) return;
    localStorage.removeItem(LS.ACTIVATED_TS);
    localStorage.removeItem(LS.ACTIVATED_YEAR);
    localStorage.removeItem(LS.CONTACTS_108);
    localStorage.removeItem(LS.MATCHES);
    localStorage.removeItem(LS.USER_DOB);
    renderBdayButton();
}

// ── Backward compat stubs ──
function updateBirthdayBar(){ renderBdayButton(); }
function isBirthdayToday(){ return false; }
function calculateDaysToBirthday(){ return null; }
function initializeGlobalDatabase(){ /* no longer needed — sim done at fill time */ }

// ── Init ──
renderBdayButton();
setInterval(renderBdayButton, 60000); // refresh button label every minute
</script>

<script>
// ══════════════════════════════════════════
//  DATA LAYER — localStorage persistence
// ══════════════════════════════════════════
const DB = {
    get contacts() { return JSON.parse(localStorage.getItem('ipn_contacts')||'[]'); },
    set contacts(v){ localStorage.setItem('ipn_contacts',JSON.stringify(v)); },
    get expenses()  { return JSON.parse(localStorage.getItem('ipn_expenses')||'[]'); },
    set expenses(v) { localStorage.setItem('ipn_expenses',JSON.stringify(v)); }
};

// ══════════════════════════════════════════
//  BOOT SEQUENCE
// ══════════════════════════════════════════
function createParticles() {
    const c = document.getElementById('particles');
    for(let i=0;i<22;i++){
        const p=document.createElement('div');
        p.className='particle';
        p.style.left=Math.random()*100+'%';
        const s=Math.random()*3+1+'px';
        p.style.width=p.style.height=s;
        p.style.animationDelay=Math.random()*18+'s';
        c.appendChild(p);
    }
}

function simulateBoot(){
    const fill=document.getElementById('bootFill');
    const status=document.getElementById('bootStatus');
    const boot=document.getElementById('bootScreen');
    const main=document.getElementById('mainContent');
    const steps=[
        {p:15,s:'Checking hardware components...'},
        {p:30,s:'Initializing memory modules...'},
        {p:50,s:'Loading virtual environment...'},
        {p:68,s:'Connecting to IPNOTEC network...'},
        {p:85,s:'Authenticating VIP session...'},
        {p:100,s:'Welcome. System ready.'}
    ];
    let i=0;
    function next(){
        if(i<steps.length){
            fill.style.width=steps[i].p+'%';
            status.textContent=steps[i].s;
            i++;
            setTimeout(next,350+Math.random()*450);
        } else {
            setTimeout(()=>{
                boot.style.opacity='0';
                setTimeout(()=>{
                    boot.style.display='none';
                    main.style.display='flex';
                    createParticles();
                },500);
            },600);
        }
    }
    next();
}

// ══════════════════════════════════════════
//  APP MANAGEMENT
// ══════════════════════════════════════════
function openApp(id){
    document.querySelectorAll('.app-window').forEach(a=>a.style.display='none');
    document.getElementById(id).style.display='block';
    document.querySelectorAll('.tab').forEach(t=>t.classList.remove('act'));
    const tab=document.querySelector(`.tab[onclick="openApp('${id}')"]`);
    if(tab) tab.classList.add('act');
    if(id==='addressBook') renderContacts();
    if(id==='expenseEvaluator') renderExpenses();
}

function closeApp(id){
    document.getElementById(id).style.display='none';
    document.querySelectorAll('.tab').forEach(t=>t.classList.remove('act'));
}

// ══════════════════════════════════════════
//  COLOR SYSTEM
// ══════════════════════════════════════════
const COLOR_MAP = {
    violet:'#9B00FF',indigo:'#0060B8',blue:'#00A8E8',green:'#39D353',
    yellow:'#FFD600',orange:'#FF6900',red:'#FF2828',
    nardo:'#9B9B9B',white:'#F5F5F5'
};

function changeColor(el){
    const c = el.dataset.c;
    const val = COLOR_MAP[c]||COLOR_MAP.orange;
    document.documentElement.style.setProperty('--ac',val);
    const r=/^#([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(val);
    if(r) document.documentElement.style.setProperty('--ac-rgb',
        `${parseInt(r[1],16)},${parseInt(r[2],16)},${parseInt(r[3],16)}`);
    document.querySelectorAll('.co').forEach(o=>o.classList.remove('act'));
    el.classList.add('act');
}

// ══════════════════════════════════════════
//  ADDRESS BOOK
// ══════════════════════════════════════════
let abFilter = 'all';

function addContact(){
    const contacts = DB.contacts;
    if(contacts.length >= 108){
        document.getElementById('capWarn').style.display='block';
        return;
    }
    const name  = document.getElementById('ab-name').value.trim();
    const phone = document.getElementById('ab-phone').value.trim();
    const email = document.getElementById('ab-email').value.trim();
    const cat   = document.getElementById('ab-cat').value;
    const pri   = parseInt(document.getElementById('ab-pri').value);

    if(!name||!phone){ alert('Name and phone are required.'); return; }

    contacts.push({ id:Date.now(), name, phone, email, cat, pri });
    DB.contacts = contacts;

    document.getElementById('ab-name').value='';
    document.getElementById('ab-phone').value='';
    document.getElementById('ab-email').value='';

    if(contacts.length >= 108) document.getElementById('capWarn').style.display='block';
    renderContacts();
}

function deleteContact(id){
    DB.contacts = DB.contacts.filter(c=>c.id!==id);
    document.getElementById('capWarn').style.display='none';
    renderContacts();
}

function filterContacts(f,btn){
    abFilter=f;
    document.querySelectorAll('.filt-btn').forEach(b=>b.classList.remove('act'));
    btn.classList.add('act');
    renderContacts();
}

function renderContacts(){
    updateBirthdayBar(); // Check and update birthday status
    let contacts=[...DB.contacts];
    if(abFilter==='1') contacts=contacts.filter(c=>c.pri===1);
    else if(abFilter==='2') contacts=contacts.filter(c=>c.pri===2);
    else if(abFilter==='3') contacts=contacts.filter(c=>c.pri===3);
    else if(['family','friends','professional','mentor','other'].includes(abFilter))
        contacts=contacts.filter(c=>c.cat===abFilter);
    contacts.sort((a,b)=>a.pri-b.pri);

    const all=DB.contacts;
    const p1=all.filter(c=>c.pri===1).length;
    const p2=all.filter(c=>c.pri===2).length;
    const p3=all.filter(c=>c.pri===3).length;

    document.getElementById('abStats').innerHTML=`
        <div class="stat-b sb-tot"><span class="n">${all.length}<span style="font-size:.65rem;opacity:.45">/108</span></span><span class="l">TOTAL</span></div>
        <div class="stat-b sb-p1"><span class="n">${p1}</span><span class="l">INNER CIRCLE</span></div>
        <div class="stat-b sb-p2"><span class="n">${p2}</span><span class="l">CLOSE CIRCLE</span></div>
        <div class="stat-b sb-p3"><span class="n">${p3}</span><span class="l">EXTENDED</span></div>
    `;

    const grid=document.getElementById('contactsGrid');
    if(!contacts.length){
        grid.innerHTML=`<div class="empty-state"><i class="fas fa-address-book"></i><p>No contacts yet. Add your inner circle from the panel.</p></div>`;
        return;
    }

    grid.innerHTML=contacts.map(c=>`
        <div class="ccard cp${c.pri}">
            <div class="cc-badge cp${c.pri}">${c.pri}</div>
            <div class="cc-name">${c.name}</div>
            <div class="cc-info"><i class="fas fa-phone" style="opacity:.4;font-size:.65rem"></i> ${c.phone}</div>
            ${c.email?`<div class="cc-info"><i class="fas fa-envelope" style="opacity:.4;font-size:.65rem"></i> ${c.email}</div>`:''}
            <div class="cc-tags"><span class="cc-tag t-${c.cat}">${c.cat}</span></div>
            <div style="margin-top:6px"><button class="btn-del" onclick="deleteContact(${c.id})">Remove</button></div>
        </div>
    `).join('');
}

// ══════════════════════════════════════════
//  EXPENSE EVALUATOR
// ══════════════════════════════════════════
let chosenEmo = '';

function pickEmo(e, btn){
    chosenEmo=e;
    document.querySelectorAll('.emo-btn').forEach(b=>b.classList.remove('sel'));
    btn.classList.add('sel');
}

function todayKey(){ return new Date().toISOString().split('T')[0]; }

function logExpense(){
    const exps=DB.expenses;
    if(exps.find(e=>e.date===todayKey())){
        alert("You've already logged today. Come back tomorrow!");
        return;
    }
    const amt=parseFloat(document.getElementById('exp-amt').value);
    const type=document.getElementById('exp-type').value;
    if(!amt||amt<=0){ alert('Please enter a valid amount.'); return; }
    if(!type){ alert('Please select a type of spend.'); return; }
    if(!chosenEmo){ alert('Please select how your day was.'); return; }

    exps.push({ id:Date.now(), date:todayKey(), amt, type, emo:chosenEmo });
    DB.expenses=exps;

    document.getElementById('exp-amt').value='';
    document.getElementById('exp-type').value='';
    chosenEmo='';
    document.querySelectorAll('.emo-btn').forEach(b=>b.classList.remove('sel'));

    renderExpenses();
}

function emoClass(e){
    return {
        Needful:'em-needful',Grateful:'em-grateful','Want Day':'em-want',
        Impulse:'em-impulse',Stressed:'em-stressed',Joyful:'em-joyful'
    }[e]||'em-needful';
}

function renderExpenses(){
    const exps=DB.expenses;
    const todayLogged=exps.find(e=>e.date===todayKey());
    const bar=document.getElementById('dayBar');
    const btn=document.getElementById('expBtn');

    if(todayLogged){
        bar.className='day-bar db-logged';
        bar.textContent=`TODAY LOGGED — ₹${todayLogged.amt.toLocaleString()} — ${todayLogged.emo}`;
        btn.disabled=true; btn.textContent="TODAY'S LOG SUBMITTED ✓";
    } else {
        bar.className='day-bar db-pending';
        bar.textContent="TODAY'S LOG: PENDING";
        btn.disabled=false; btn.textContent="LOG TODAY'S SPEND";
    }

    const total=exps.reduce((s,e)=>s+e.amt,0);
    const ms=new Date(); ms.setDate(1); ms.setHours(0,0,0,0);
    const mTotal=exps.filter(e=>new Date(e.date)>=ms).reduce((s,e)=>s+e.amt,0);
    const avg=exps.length?Math.round(total/exps.length):0;
    const high=exps.reduce((m,e)=>e.amt>m?e.amt:m,0);

    document.getElementById('expSummary').innerHTML=`
        <div class="sum-card"><span class="amt">₹${mTotal.toLocaleString()}</span><span class="lbl">THIS MONTH</span></div>
        <div class="sum-card"><span class="amt">₹${avg.toLocaleString()}</span><span class="lbl">DAILY AVERAGE</span></div>
        <div class="sum-card"><span class="amt">${exps.length}</span><span class="lbl">DAYS LOGGED</span></div>
        <div class="sum-card"><span class="amt">₹${high.toLocaleString()}</span><span class="lbl">HIGHEST DAY</span></div>
    `;

    const tbody=document.getElementById('expHistory');
    if(!exps.length){
        tbody.innerHTML=`<tr><td colspan="4" style="text-align:center;color:rgba(255,255,255,.25);padding:2rem;">No entries yet. Log your first day above.</td></tr>`;
        return;
    }
    const sorted=[...exps].sort((a,b)=>b.date.localeCompare(a.date));
    tbody.innerHTML=sorted.map(e=>`
        <tr>
            <td style="font-family:'Orbitron',sans-serif;font-size:.65rem;color:rgba(255,255,255,.5)">${e.date}</td>
            <td style="font-family:'Orbitron',sans-serif;color:var(--ac)">₹${e.amt.toLocaleString()}</td>
            <td style="font-size:.85rem">${e.type}</td>
            <td><span class="emo-badge ${emoClass(e.emo)}">${e.emo}</span></td>
        </tr>
    `).join('');
}

// ══════════════════════════════════════════
//  NAMELESS ASTROLOGY
// ══════════════════════════════════════════
function generateAstrology(){
    const dob=document.getElementById('dob-input').value;
    const pob=document.getElementById('pob-input').value.trim();
    if(!dob||!pob){ alert('Please enter both Date of Birth and Place of Birth.'); return; }

    const d=new Date(dob);
    const seed=(d.getDate()+d.getMonth()*7+d.getFullYear())%100;
    const s=(n)=>((seed+n)%100);
    const planets=['Sun','Moon','Jupiter','Saturn','Venus','Mercury','Mars'];

    const spirFocus=15+s(20);
    const spirPot=60+s(25);
    const persFocus=25+s(18);
    const persPot=55+s(28);
    const profAlign=45+s(30);
    const profDev=100-(45+s(30));

    document.getElementById('astroCards').innerHTML=`
        <div class="astro-card">
            <h3>SPIRITUAL</h3>
            <div class="content">
                <strong>Only You</strong><br><br>
                Your birth energy resonates with <em>${planets[s(7)%7]}</em>. A call for stillness, inner reconnection, and surrender of control.
                <br><br>
                Current Focus: <span class="pct">${spirFocus}%</span><br>
                Potential with Commitment: <span class="pct">${spirPot}%</span>
                <ul>
                    <li>Guided Meditation Under Stars (Potential: <span class="pct">75%</span>)</li>
                    <li>Nature Reconnect Retreat (Potential: <span class="pct">62%</span>)</li>
                    <li class="ipn-li">★ IPNOTEC: Dawn Peace Walk (Potential: 70%)</li>
                </ul>
            </div>
        </div>
        <div class="astro-card">
            <h3>PERSONAL</h3>
            <div class="content">
                <strong>You + Family + Dreams</strong><br><br>
                ${planets[(s(3)+2)%7]} governs your personal sphere this cycle. Powerful energy for deepening bonds and manifesting aspirations.
                <br><br>
                Current Focus: <span class="pct">${persFocus}%</span><br>
                Growth Potential: <span class="pct">${persPot}%</span>
                <ul>
                    <li>Holistic Yoga Flow (Potential: <span class="pct">66%</span>)</li>
                    <li>Family Bonding Ritual (Potential: <span class="pct">71%</span>)</li>
                    <li class="ipn-li">★ IPNOTEC: Dream Mapping Workshop (Potential: 72%)</li>
                </ul>
            </div>
        </div>
        <div class="astro-card">
            <h3>PROFESSIONAL</h3>
            <div class="content">
                <strong>Your Destined Path</strong><br><br>
                Saturn governs career karma. Current alignment with cosmic purpose shows measurable divergence — course correction advised now.
                <br><br>
                Current Alignment: <span class="pct">${profAlign}%</span><br>
                Deviation from Path: <span class="pct">${profDev}%</span>
                <ul>
                    <li>Ancient Sanskrit Wisdom Circle (Potential: <span class="pct">74%</span>)</li>
                    <li>Cosmic Alignment Seminar (Potential: <span class="pct">68%</span>)</li>
                    <li class="ipn-li">★ IPNOTEC: Career Alignment Seminar (Potential: 67%)</li>
                </ul>
            </div>
        </div>
    `;

    const today=new Date();
    const pTypes=[
        {l:'HIGH ENERGY',lv:'high',descs:['Powerful manifestation window','Financial decisions strongly favored','Creative peak — act without hesitation','Social connections align perfectly']},
        {l:'CAUTION',    lv:'med', descs:['Avoid major new commitments','Rest, reflect, do not initiate','Mercury retrograde effect active','Inner contemplation recommended']},
        {l:'FLOW DAY',   lv:'low', descs:['Steady rhythmic progress','Routine work beautifully aligned','Good day for planning ahead','Maintain momentum, do not force']},
        {l:'PEAK LOVE',  lv:'high',descs:['Relationships favored strongly','Deepen bonds, express feelings','Family time yields major returns','Heart energy at seasonal high']},
        {l:'KARMA',      lv:'med', descs:['Past actions return for review','Complete unfinished commitments','Apologize where needed','Karmic balance restoration']},
    ];
    const preds=[];
    for(let i=1;i<=12;i++){
        const td=new Date(today);
        td.setDate(td.getDate()+(i*2+s(i)%3));
        const pt=pTypes[(seed+i*3)%pTypes.length];
        const desc=pt.descs[(seed+i)%pt.descs.length];
        preds.push({
            date:td.toLocaleDateString('en-IN',{day:'2-digit',month:'short'}),
            label:pt.l, lv:pt.lv, desc
        });
    }

    document.getElementById('dateGrid').innerHTML=preds.map(p=>`
        <div class="date-item">
            <div class="d-dot d-${p.lv}"></div>
            <div>
                <div class="d-date">${p.date} — ${p.label}</div>
                <div class="d-desc">${p.desc}</div>
            </div>
        </div>
    `).join('');

    document.getElementById('astroPlaceholder').style.display='none';
    document.getElementById('astroResults').style.display='block';
}

// ══════════════════════════════════════════
//  POWER & INIT
// ══════════════════════════════════════════
document.addEventListener('DOMContentLoaded',()=>{
    const power=document.getElementById('pcPower');
    const main=document.getElementById('mainContent');
    const boot=document.getElementById('bootScreen');

    power.addEventListener('click',function(){
        const on=main.style.display==='flex';
        if(!on){
            this.classList.add('on');
            boot.style.display='flex';
            boot.style.opacity='1';
            document.getElementById('bootFill').style.width='0';
            document.getElementById('bootStatus').textContent='Initializing hardware...';
            setTimeout(simulateBoot,500);
        } else {
            this.classList.remove('on');
            main.style.display='none';
            document.querySelectorAll('.app-window').forEach(a=>a.style.display='none');
            document.querySelectorAll('.tab').forEach(t=>t.classList.remove('act'));
            boot.style.display='flex';
            boot.style.opacity='1';
            document.getElementById('bootFill').style.width='0';
            document.getElementById('bootStatus').textContent='System powered off.';
        }
    });

    // Auto-boot
    setTimeout(()=>power.click(),800);
});
</script>
</body>
</html>
